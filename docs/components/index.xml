<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Quarks project â€“ Components</title>
    <link>https://quarks.suse.dev/docs/components/</link>
    <description>Recent content in Components on Quarks project</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://quarks.suse.dev/docs/components/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: Quarks Job</title>
      <link>https://quarks.suse.dev/docs/components/quarksjob/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://quarks.suse.dev/docs/components/quarksjob/</guid>
      <description>
        
        
        

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#quarksjob&#34;&gt;QuarksJob&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#features&#34;&gt;Features&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#errand-jobs&#34;&gt;Errand Jobs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#one-off-jobs--auto-errands&#34;&gt;One-Off Jobs / Auto-Errands&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#restarting-on-config-change&#34;&gt;Restarting on Config Change&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#persisted-output&#34;&gt;Persisted Output&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#versioned-secrets&#34;&gt;Versioned Secrets&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#quarksjob-examples&#34;&gt;&lt;code&gt;QuarksJob&lt;/code&gt; Examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;description&#34;&gt;Description&lt;/h2&gt;

&lt;p&gt;A &lt;code&gt;QuarksJob&lt;/code&gt; allows the developer to run jobs when something interesting happens. It also allows the developer to store the output of the job into a &lt;code&gt;Secret&lt;/code&gt;.
The job started by an &lt;code&gt;QuarksJob&lt;/code&gt; is deleted automatically after it succeeds.&lt;/p&gt;

&lt;p&gt;There are two different kinds of &lt;code&gt;QuarksJob&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;one-offs&lt;/strong&gt;: automatically runs once after it&amp;rsquo;s created&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;errands&lt;/strong&gt;: needs to be run manually by a user&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;

&lt;h3 id=&#34;errand-jobs&#34;&gt;Errand Jobs&lt;/h3&gt;

&lt;p&gt;Errands are run manually by the user. They are created by setting &lt;code&gt;trigger.strategy: manual&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;After the &lt;code&gt;QuarksJob&lt;/code&gt; is created, run an errand by editing and applying the
manifest, i.e. via &lt;code&gt;kubectl edit errand1&lt;/code&gt; and change &lt;code&gt;trigger.strategy: manual&lt;/code&gt; to &lt;code&gt;trigger.strategy: now&lt;/code&gt;. A &lt;code&gt;kubectl patch&lt;/code&gt; is also a good way to trigger this type of &lt;code&gt;QuarksJob&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;After completion, this value is reset to &lt;code&gt;manual&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Look &lt;a href=&#34;https://github.com/cloudfoundry-incubator/quarks-job/blob/master/docs/examples/qjob_errand.yaml&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt; for a full example of an errand.&lt;/p&gt;

&lt;h3 id=&#34;one-off-jobs-auto-errands&#34;&gt;One-Off Jobs / Auto-Errands&lt;/h3&gt;

&lt;p&gt;One-off jobs run directly when created, just like native k8s jobs.&lt;/p&gt;

&lt;p&gt;They are created with &lt;code&gt;trigger.strategy: once&lt;/code&gt; and switch to &lt;code&gt;done&lt;/code&gt; when
finished.&lt;/p&gt;

&lt;p&gt;If a versioned secret is referenced in the pod spec of an qJob, the most recent
version of that secret will be used when the batchv1.Job is created.&lt;/p&gt;

&lt;h4 id=&#34;restarting-on-config-change&#34;&gt;Restarting on Config Change&lt;/h4&gt;

&lt;p&gt;A &lt;strong&gt;one-off&lt;/strong&gt; &lt;code&gt;QuarksJob&lt;/code&gt; can
automatically be restarted if its environment/mounts have changed, due to a
&lt;code&gt;ConfigMap&lt;/code&gt; or a &lt;code&gt;Secret&lt;/code&gt; being updated. This also works for &lt;a href=&#34;#versioned-secrets&#34;&gt;Versioned Secrets&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This requires the attribute &lt;code&gt;updateOnConfigChange&lt;/code&gt; to be set to true.&lt;/p&gt;

&lt;p&gt;Once &lt;code&gt;updateOnConfigChange&lt;/code&gt; is enabled, modifying the &lt;code&gt;data&lt;/code&gt; of any &lt;code&gt;ConfigMap&lt;/code&gt; or &lt;code&gt;Secret&lt;/code&gt; referenced by the &lt;code&gt;template&lt;/code&gt; section of the job will trigger the job again.&lt;/p&gt;

&lt;h3 id=&#34;persisted-output&#34;&gt;Persisted Output&lt;/h3&gt;

&lt;p&gt;QuarksJob can create secrets from job output, which is written to a JSON file in &lt;code&gt;/mnt/quarks&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Multiple secrets are created or overwritten per container in the pod. The output file names are mapped to the secrets&amp;rsquo; names via &lt;code&gt;OutputMap&lt;/code&gt;. This is done for every container.&lt;/p&gt;

&lt;p&gt;The only supported output type currently is json with a flat structure, i.e.
all values being string values, because &lt;a href=&#34;https://kubernetes.io/docs/concepts/configuration/secret/#creating-a-secret-manually&#34; target=&#34;_blank&#34;&gt;Kubernetes secrets store base64 encoded data&lt;/a&gt;. The string value can be a marshalled JSON document.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Output of previous runs is overwritten.&lt;/p&gt;

&lt;p&gt;The behavior of storing the output is controlled by specifying the following parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;outputMap&lt;/code&gt; - Mapping from output file name to the name of the secret(s) that will hold the output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;outputType&lt;/code&gt; - Currently only &lt;code&gt;json&lt;/code&gt; is supported. (default: &lt;code&gt;json&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;secretLabels&lt;/code&gt; - An optional map of labels which will be attached to the generated secret(s)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;writeOnFailure&lt;/code&gt; - if true, output is written even though the Job failed. (default: &lt;code&gt;false&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The developer should ensure that she creates all files defined in &lt;code&gt;OutputMap&lt;/code&gt; in the /mnt/quarks volume mount at the end of the container script. An example of the command field in the quarks job spec will look like this&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;command: [&amp;quot;/bin/sh&amp;quot;]
args: [&amp;quot;-c&amp;quot;,&amp;quot;json=&#39;{\&amp;quot;foo\&amp;quot;: \&amp;quot;1\&amp;quot;, \&amp;quot;bar\&amp;quot;: \&amp;quot;baz\&amp;quot;}&#39; &amp;amp;&amp;amp; echo $json &amp;gt;&amp;gt; /mnt/quarks/output.json&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The secret is created by a side container in quarks job pod which captures the create event of /mnt/quarks/output.json file.&lt;/p&gt;

&lt;p&gt;The behavior of storing the output is controlled by specifying the following parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;outputType&lt;/code&gt; - Currently only &lt;code&gt;json&lt;/code&gt; is supported. (default: &lt;code&gt;json&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;secretLabels&lt;/code&gt; - An optional map of labels which will be attached to the generated secret(s)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;versioned&lt;/code&gt; - if true, the output is written in a &lt;a href=&#34;#versioned-secrets&#34;&gt;Versioned Secret&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;writeOnFailure&lt;/code&gt; - if true, output is written even though the Job failed. (default: &lt;code&gt;false&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;versioned-secrets&#34;&gt;Versioned Secrets&lt;/h4&gt;

&lt;p&gt;Versioned Secrets are a set of &lt;code&gt;Secrets&lt;/code&gt;, where each of them is immutable, and contains data for one iteration. Implementation can be found in the &lt;a href=&#34;https://github.com/cloudfoundry-incubator/quarks-utils/tree/master/pkg/versionedsecretstore&#34; target=&#34;_blank&#34;&gt;versionedsecretstore&lt;/a&gt; package.&lt;/p&gt;

&lt;p&gt;When an &lt;code&gt;QuarksJob&lt;/code&gt; is configured to save to &amp;ldquo;Versioned Secrets&amp;rdquo;, the controller looks for the &lt;code&gt;Secret&lt;/code&gt; with the largest ordinal, adds &lt;code&gt;1&lt;/code&gt; to that value, and &lt;em&gt;creates a new Secret&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Each versioned secret has the following characteristics:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;its name is calculated like this: &lt;code&gt;&amp;lt;name&amp;gt;-v&amp;lt;ORDINAL&amp;gt;&lt;/code&gt; e.g. &lt;code&gt;mysecret-v2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;it has the following labels:

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;quarks.cloudfoundry.org/secret-kind&lt;/code&gt; with a value of &lt;code&gt;versionedSecret&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;quarks.cloudfoundry.org/secret-version&lt;/code&gt; with a value set to the &lt;code&gt;ordinal&lt;/code&gt; of the secret&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;an annotation of &lt;code&gt;quarks.cloudfoundry.org/source-description&lt;/code&gt; that contains arbitrary information about the creator of the secret&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;quarksjob-examples&#34;&gt;&lt;code&gt;QuarksJob&lt;/code&gt; Examples&lt;/h2&gt;

&lt;p&gt;See &lt;a href=&#34;https://github.com/cloudfoundry-incubator/quarks-job/tree/master/docs/examples&#34; target=&#34;_blank&#34;&gt;https://github.com/cloudfoundry-incubator/quarks-job/tree/master/docs/examples&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;controller-architecture&#34;&gt;Controller architecture&lt;/h2&gt;

&lt;p&gt;See: &lt;a href=&#34;../../development/controllers/quarksjob/&#34;&gt;Quarks Job controller section&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: Quarks Secret</title>
      <link>https://quarks.suse.dev/docs/components/quarkssecret/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://quarks.suse.dev/docs/components/quarkssecret/</guid>
      <description>
        
        
        

&lt;h2 id=&#34;description&#34;&gt;Description&lt;/h2&gt;

&lt;p&gt;A QuarksSecret lets you automatically generate secrets such as passwords, certificates and ssh keys, to ease management of credentials in Kubernetes.&lt;/p&gt;

&lt;h2 id=&#34;overview-of-quarks-secret&#34;&gt;Overview of Quarks Secret&lt;/h2&gt;

&lt;p&gt;A QuarkSecret is a Kubernetes Object that contains instuctions on the type of Kubernetes Secret that must be generated which can be later referenced in a Pod.&lt;/p&gt;

&lt;p&gt;For instance, to generate a basic auth password, we can apply the following yaml with &lt;code&gt;kubectl&lt;/code&gt;:&lt;/p&gt;


&lt;hr&gt;



&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;display:block;width:100%;background-color:#363636&#34;&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;6
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;apiVersion:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;quarks.cloudfoundry.org/v1alpha1&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;kind:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;QuarksSecret&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;metadata:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;name:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;generate-password&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;spec:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;display:block;width:100%;background-color:#363636&#34;&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;type:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;password&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;secretName:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;gen-secret1&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;small&gt; Complete source code:  &lt;a target=_blank href=&#34;https://github.com/cloudfoundry-incubator/quarks-secret/blob/master/docs/examples/password.yaml&#34;&gt;https://github.com/cloudfoundry-incubator/quarks-secret/blob/master/docs/examples/password.yaml&lt;/a&gt; &lt;/small&gt;
&lt;hr&gt;

&lt;p&gt;the &lt;code&gt;type&lt;/code&gt; field denotes the type of secret that should be generated, currently quarks-secret supports the following types:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;password&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;certificate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rsa&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;basic-auth&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dockerconfigjson&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;copy&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;generate-credentials&#34;&gt;Generate credentials&lt;/h3&gt;

&lt;p&gt;QuarksSecret can be used to generate passwords, certificates and keys. It uses the &lt;a href=&#34;https://github.com/cloudflare/cfssl&#34; target=&#34;_blank&#34;&gt;cfssl package&lt;/a&gt; to generate these. The generated values are stored in kubernetes secrets.&lt;/p&gt;

&lt;h3 id=&#34;rotate-credentials&#34;&gt;Rotate credentials&lt;/h3&gt;

&lt;p&gt;The generated credentials can be rotated by specifying its quarkssecret&amp;rsquo;s name in a configmap. The configmap must have the following label:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;quarks.cloudfoundry.org/secret-rotation
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;approve-certificates&#34;&gt;Approve Certificates&lt;/h3&gt;

&lt;p&gt;In the case, where a certificate is generated, the QuarksSecret ensures that a certificate signing request is generated and is approved by the Kubernetes API server.&lt;/p&gt;

&lt;h3 id=&#34;secret-copy&#34;&gt;Secret copy&lt;/h3&gt;

&lt;p&gt;The Quarks Secret operator can generate also copies in multiple namespaces while generating secrets.&lt;/p&gt;

&lt;p&gt;For example, while generating passwords:&lt;/p&gt;


&lt;hr&gt;



&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;apiVersion:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;quarks.cloudfoundry.org/v1alpha1&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;kind:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;QuarksSecret&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;metadata:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;name:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;copy-user&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;spec:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;type:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;password&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;secretName:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;gen-secret&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;copies:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;-&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;name:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;copied-secret&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;    &lt;/span&gt;namespace:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;COPYNAMESPACE&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;small&gt; Complete source code:  &lt;a target=_blank href=&#34;https://github.com/cloudfoundry-incubator/quarks-secret/blob/master/docs/examples/copy.yaml&#34;&gt;https://github.com/cloudfoundry-incubator/quarks-secret/blob/master/docs/examples/copy.yaml&lt;/a&gt; &lt;/small&gt;
&lt;hr&gt;

&lt;p&gt;It can be specified a  list of copying target, with &lt;code&gt;copies&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;copies:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;-&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;name:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;copied-secret&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;    &lt;/span&gt;namespace:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;namespace1&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And each destination which is indicated needs to have a &lt;code&gt;Quarks Secret&lt;/code&gt; of &lt;code&gt;copy&lt;/code&gt; in the following form:&lt;/p&gt;


&lt;hr&gt;



&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;apiVersion:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;quarks.cloudfoundry.org/v1alpha1&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;kind:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;QuarksSecret&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;metadata:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;labels:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;    &lt;/span&gt;quarks.cloudfoundry.org/secret-kind:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;generated&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;annotations:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;    &lt;/span&gt;quarks.cloudfoundry.org/secret-copy-of:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;NAMESPACE/copy-user&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;name:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;copied-secret&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;namespace:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;COPYNAMESPACE&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;spec:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;type:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;copy&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;secretName:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;copied-secret&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;small&gt; Complete source code:  &lt;a target=_blank href=&#34;https://github.com/cloudfoundry-incubator/quarks-secret/blob/master/docs/examples/copy-qsecret-destination.yaml&#34;&gt;https://github.com/cloudfoundry-incubator/quarks-secret/blob/master/docs/examples/copy-qsecret-destination.yaml&lt;/a&gt; &lt;/small&gt;
&lt;hr&gt;

&lt;p&gt;The examples copies the generated &lt;code&gt;gen-secret&lt;/code&gt; secret content into &lt;code&gt;copied-secret&lt;/code&gt;  inside the &lt;code&gt;COPYNAMESPACE&lt;/code&gt; namespace.&lt;/p&gt;

&lt;h2 id=&#34;see-also&#34;&gt;See also&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/cloudfoundry-incubator/quarks-secret/tree/master/docs/examples&#34; target=&#34;_blank&#34;&gt;Examples&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;../../development/controllers/quarks_secret/&#34;&gt;Quarks Secret Controller architecture&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
  </channel>
</rss>
