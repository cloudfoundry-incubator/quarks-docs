<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.74.3" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>From BOSH to Kubernetes | Quarks Project</title><meta property="og:title" content="From BOSH to Kubernetes" />
<meta property="og:description" content="Guidelines on transforming BOSH concepts to Kubernetes
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://quarks.suse.dev/docs/quarks-operator/concepts/from_bosh_to_kube/" />
<meta property="article:modified_time" content="2020-09-08T12:28:54+02:00" /><meta property="og:site_name" content="Quarks Project" />
<meta itemprop="name" content="From BOSH to Kubernetes">
<meta itemprop="description" content="Guidelines on transforming BOSH concepts to Kubernetes
">
<meta itemprop="dateModified" content="2020-09-08T12:28:54+02:00" />
<meta itemprop="wordCount" content="3828">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="From BOSH to Kubernetes"/>
<meta name="twitter:description" content="Guidelines on transforming BOSH concepts to Kubernetes
"/>







<link rel="preload" href="/scss/main.min.aab9c0f02d1cff541a17e871c779afa503ebc937d758c786f68e08feae9bd24d.css" as="style">
<link href="/scss/main.min.aab9c0f02d1cff541a17e871c779afa503ebc937d758c786f68e08feae9bd24d.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>



  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="394.7368421052631" viewBox="0  0, 400,394.7368421052631"><g id="svgg"><path id="path0" d="M145.181 8.554C145.035 8.699 144.916 9.852 144.916 11.116V13.412L134.551 13.518 124.186 13.623 124.068 16.079 123.951 18.536 118.738 18.646 113.524 18.756 113.408 21.41 113.291 24.064 108.274 24.174 103.258 24.284 103.14 26.741 103.023 29.197 97.81 29.308 92.596 29.418 92.479 31.874 92.362 34.331 87.148 34.441 81.935 34.551 81.819 37.198 81.702 39.845 79.252 39.962 76.802 40.079 76.684 42.529 76.567 44.978 74.118 45.095 71.668 45.212 71.551 47.669 71.434 50.125 66.22 50.235 61.007 50.346 60.891 52.992 60.774 55.639 58.324 55.757 55.874 55.874 55.757 58.324 55.639 60.774 52.992 60.891 50.346 61.007 50.228 63.456 50.111 65.906 47.662 66.023 45.212 66.14 45.102 71.354 44.992 76.567 42.536 76.684 40.079 76.802 39.962 79.252 39.845 81.702 37.198 81.819 34.551 81.935 34.435 84.582 34.318 87.229 31.868 87.346 29.418 87.463 29.307 92.479 29.197 97.495 26.741 97.612 24.284 97.73 24.168 100.377 24.052 103.025 21.404 103.141 18.756 103.258 18.646 108.274 18.535 113.29 16.079 113.407 13.623 113.524 13.516 121.304 13.409 129.084 10.949 129.202 8.49 129.319V144.916 160.513L13.506 160.624 18.522 160.734 18.639 163.19 18.756 165.647 21.403 165.763 24.05 165.879 24.167 168.33 24.284 170.78 26.735 170.897 29.185 171.014 29.301 173.661 29.418 176.308 34.631 176.418 39.844 176.528 39.962 178.985 40.079 181.441 42.529 181.558 44.978 181.675 45.095 184.125 45.212 186.575 50.426 186.685 55.641 186.795 55.757 189.449 55.874 192.103H63.376 70.879L70.983 178.992 71.087 165.881 73.549 165.764 76.012 165.647 76.119 157.866 76.226 150.085 78.883 149.968 81.54 149.852 81.65 144.638 81.76 139.425 84.217 139.308 86.673 139.191 86.79 136.741 86.907 134.291 89.357 134.174 91.807 134.057 91.917 128.843 92.027 123.629 94.681 123.512 97.335 123.396 97.452 120.946 97.569 118.497 100.018 118.38 102.468 118.263 102.585 115.813 102.702 113.363 105.152 113.246 107.601 113.129 107.718 110.482 107.834 107.834 110.482 107.718 113.129 107.601 113.246 105.152 113.363 102.702 115.813 102.585 118.263 102.468 118.38 100.011 118.497 97.555 123.711 97.445 128.924 97.335 129.04 94.681 129.157 92.027 134.174 91.917 139.191 91.807 139.308 89.35 139.425 86.893 144.638 86.783 149.852 86.673 149.969 84.212 150.087 81.75 160.433 81.645 170.78 81.54 170.897 78.875 171.013 76.209H192.318 213.623V78.973 81.737H221.52 229.418V84.304 86.871H237.315 245.212V89.437 92.004H247.761 250.309L250.426 94.669 250.543 97.335 255.775 97.445 261.007 97.555V100.11 102.665H263.555 266.102L266.22 105.133 266.338 107.601 268.788 107.718 271.238 107.835 271.355 110.482 271.471 113.129 274.136 113.246 276.802 113.363V115.911 118.46H279.349 281.897L282.015 120.928 282.132 123.396 284.583 123.513 287.033 123.63 287.149 126.277 287.266 128.924 289.931 129.041 292.596 129.158V134.273 139.388H295.151 297.707L297.817 144.62 297.927 149.852 300.384 149.969 302.84 150.086 302.95 155.3 303.06 160.513 305.726 160.63 308.391 160.747V171.193 181.639H310.949 313.507L313.615 189.437 313.722 197.236 324.068 197.341 334.415 197.446 334.532 199.908 334.65 202.369H355.38 376.111L376.228 199.901 376.346 197.433H378.893 381.441V179.072 160.711H378.881 376.321L376.216 150.346 376.111 139.98 373.651 139.863 371.191 139.746 371.084 131.966 370.977 124.186 368.312 124.069 365.647 123.952V118.639 113.327H363.092 360.537L360.426 108.292 360.316 103.258 357.859 103.14 355.403 103.023 355.293 97.81 355.183 92.596 352.517 92.479 349.852 92.363V89.814 87.266H347.297 344.742L344.631 82.034 344.521 76.802 342.072 76.684 339.622 76.567 339.505 74.118 339.388 71.668 336.723 71.552 334.057 71.435V68.689 65.943H331.509 328.962L328.844 63.475 328.727 61.007 326.277 60.89 323.827 60.773 323.71 58.323 323.593 55.874 320.928 55.757 318.263 55.64V52.894 50.148H315.715 313.167L313.049 47.68 312.932 45.212 307.7 45.102 302.468 44.992V42.437 39.882H299.919 297.371L297.254 37.216 297.137 34.551 291.905 34.441 286.673 34.33V31.775 29.22H281.559 276.444L276.327 26.752 276.209 24.284 270.995 24.174 265.781 24.064 265.664 21.41 265.548 18.756 260.316 18.646 255.084 18.536V15.981 13.425H244.639 234.194L234.076 10.958 233.959 8.49 189.702 8.389C165.361 8.334 145.327 8.408 145.181 8.554" stroke="none" fill="#fff" fill-rule="evenodd"/><path id="path1" d="M3.03 192.561C2.884 192.707 2.764 193.952 2.764 195.327V197.828H1.382.0V210.859 223.889H1.377 2.753L2.857 236.821 2.962 249.753 5.619 249.87 8.276 249.986 8.383 257.767 8.49 265.548 10.949 265.665 13.409 265.783 13.516 273.563 13.623 281.343 16.079 281.46 18.536 281.577 18.646 286.791 18.756 292.004 21.403 292.12 24.05 292.237 24.167 294.687 24.284 297.137 26.741 297.254 29.197 297.372 29.308 302.585 29.418 307.799 31.867 307.916 34.317 308.033 34.434 310.482 34.551 312.932 37.199 313.048 39.846 313.165 39.963 315.812 40.079 318.46 42.535 318.577 44.991 318.695 45.102 323.711 45.212 328.727 47.663 328.844 50.113 328.961 50.229 331.608 50.346 334.255 52.992 334.371 55.639 334.487 55.757 336.938 55.874 339.388 58.323 339.505 60.773 339.622 60.89 342.072 61.007 344.521 66.221 344.631 71.435 344.741 71.552 347.395 71.668 350.049 74.118 350.166 76.567 350.284 76.684 352.733 76.802 355.183 79.251 355.3 81.701 355.417 81.818 357.866 81.935 360.316 87.149 360.426 92.363 360.536 92.48 363.19 92.596 365.844 97.81 365.954 103.023 366.064 103.14 368.521 103.258 370.977 108.274 371.088 113.29 371.198 113.407 373.654 113.524 376.111 118.738 376.221 123.953 376.331 124.069 378.985 124.186 381.639 134.532 381.744 144.879 381.849 144.996 384.311 145.114 386.772h44.422 44.423L234.076 384.304 234.194 381.836H244.639 255.084V379.084 376.331L260.316 376.221 265.548 376.111 265.665 373.654 265.782 371.197 270.996 371.087 276.209 370.977 276.327 368.509 276.444 366.041H281.559 286.673V363.289 360.536L291.905 360.426 297.137 360.316 297.255 357.848 297.372 355.38H299.92 302.468V352.825 350.27L307.7 350.16 312.932 350.049 313.049 347.384 313.165 344.719H315.714 318.263V342.17 339.621L320.928 339.505 323.593 339.388 323.71 336.938 323.827 334.489 326.277 334.372 328.727 334.255 328.843 331.589 328.96 328.924H331.509 334.057V326.375 323.827L336.723 323.71 339.388 323.593 339.505 321.144 339.622 318.694 342.072 318.577 344.521 318.46 344.631 313.228 344.742 307.996H347.297 349.852V305.447 302.899L352.517 302.782 355.183 302.665 355.293 297.452 355.403 292.238 357.859 292.121 360.316 292.004 360.426 286.772 360.536 281.54H363.091 365.647V276.425 271.31L368.312 271.193 370.977 271.076 371.084 263.296 371.191 255.516 373.651 255.399 376.111 255.281V247.581 239.882L373.661 239.764 371.211 239.647 371.094 237.198 370.977 234.748 368.312 234.632 365.647 234.515V231.966 229.418H360.531 355.416L355.299 226.752 355.183 224.087 352.517 223.97 349.852 223.853V221.305 218.756H347.304 344.756L344.639 216.288 344.521 213.82 339.289 213.71 334.057 213.6V210.847 208.095H331.509 328.962L328.844 205.627 328.727 203.159H321.224 313.722L313.611 208.391 313.501 213.623H310.946 308.391V224.069 234.515L305.726 234.632 303.06 234.748 302.95 239.962 302.84 245.175 300.384 245.292 297.927 245.41 297.816 250.444 297.706 255.479H295.151 292.596V260.791 266.104L289.931 266.221 287.266 266.338 287.148 268.787 287.031 271.237 284.582 271.354 282.132 271.471 282.016 274.136 281.899 276.802H279.35 276.802V279.35 281.899L274.136 282.016 271.471 282.132 271.354 284.582 271.237 287.031 268.787 287.148 266.338 287.266 266.221 289.931 266.104 292.596H263.556 261.007V295.151 297.707L255.775 297.817 250.543 297.927 250.425 300.395 250.308 302.863H247.76 245.212V305.627 308.391H237.315 229.418V310.958 313.524H221.52 213.623V316.091 318.657H189.752 165.882L165.764 316.19 165.647 313.722 157.867 313.615 150.087 313.508 149.969 311.048 149.852 308.588 144.638 308.478 139.424 308.368 139.307 305.714 139.191 303.06 134.175 302.95 129.159 302.839 129.041 300.383 128.924 297.927 123.711 297.817 118.497 297.707 118.38 295.25 118.263 292.794 115.812 292.677 113.362 292.559 113.246 289.913 113.129 287.266 110.482 287.149 107.835 287.033 107.718 284.583 107.601 282.132 105.152 282.015 102.702 281.898 102.585 279.449 102.468 276.999 100.018 276.882 97.567 276.765 97.451 274.118 97.335 271.471 94.681 271.354 92.027 271.238 91.917 266.221 91.807 261.204 89.356 261.087 86.906 260.97 86.79 258.323 86.673 255.676 84.217 255.559 81.761 255.442 81.65 250.426 81.54 245.41 78.883 245.293 76.226 245.177 76.119 237.396 76.012 229.615 73.548 229.498 71.085 229.38 70.982 213.703 70.879 198.026 65.664 197.916 60.45 197.806 60.334 195.152 60.217 192.498 31.756 192.396C16.103 192.341 3.176 192.415 3.03 192.561" stroke="none" fill="#14241c" fill-rule="evenodd"/><path id="path2" stroke="none" fill="#0cc0b0" fill-rule="evenodd"/><path id="path3" stroke="none" fill="#0cc0b0" fill-rule="evenodd"/><path id="path4" stroke="none" fill="#0cc0b0" fill-rule="evenodd"/></g></svg></span><span class="text-uppercase font-weight-bold">Quarks Project</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/community/" ><span>Community</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Releases
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs">main</a>
	
	<a class="dropdown-item" href="https://quarks-v6.cap.explore.suse.dev/docs">v6.x</a>
	
	<a class="dropdown-item" href="https://github.com/cloudfoundry-incubator/quarks-operator/tree/v5.0.x/docs">v5.x</a>
	
	<a class="dropdown-item" href="https://github.com/cloudfoundry-incubator/quarks-operator/tree/v4.0.x/docs">v4.x</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.ce5325b423525f96ceee3dd17dbae0d37402fc4ca68755809ecf075b0d15daf3122caab20e9f57c672da8533ebe12fccf226b4de94719657b47a8c39d47a191e.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.ce5325b423525f96ceee3dd17dbae0d37402fc4ca68755809ecf075b0d15daf3122caab20e9f57c672da8533ebe12fccf226b4de94719657b47a8c39d47a191e.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-operator/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Quarks Operator</a>
  </li>
  <ul>
    <li class="collapse show" id="docsquarks-operator">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatoroverview" href="/docs/quarks-operator/overview/">Overview</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorinstall" href="/docs/quarks-operator/install/">Install</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-operator/cli/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CLI</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-operatorcli">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator" href="/docs/quarks-operator/cli/cf-operator/">cf-operator</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator_util" href="/docs/quarks-operator/cli/cf-operator_util/">cf-operator util</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator_util_instance-group" href="/docs/quarks-operator/cli/cf-operator_util_instance-group/">cf-operator util instance-group</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator_util_tail-logs" href="/docs/quarks-operator/cli/cf-operator_util_tail-logs/">cf-operator util tail-logs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator_util_template-render" href="/docs/quarks-operator/cli/cf-operator_util_template-render/">cf-operator util template-render</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator_util_variable-interpolation" href="/docs/quarks-operator/cli/cf-operator_util_variable-interpolation/">cf-operator util variable-interpolation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator_util_wait" href="/docs/quarks-operator/cli/cf-operator_util_wait/">cf-operator util wait</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorclicf-operator_version" href="/docs/quarks-operator/cli/cf-operator_version/">cf-operator version</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-operator/concepts/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>
    <li class="collapse show" id="docsquarks-operatorconcepts">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-docsquarks-operatorconceptsfrom_bosh_to_kube" href="/docs/quarks-operator/concepts/from_bosh_to_kube/">Transforming BOSH concepts to Kubernetes</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorconceptsdesired_manifests" href="/docs/quarks-operator/concepts/desired_manifests/">Desired Manifests</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorconceptsvariables" href="/docs/quarks-operator/concepts/variables/">BOSH Variables</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorconceptsrendering_templates" href="/docs/quarks-operator/concepts/rendering_templates/">Rendering BOSH Templates</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorconceptsresources_limit" href="/docs/quarks-operator/concepts/resources_limit/">BOSH resource requests and limits</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorconceptsentanglements" href="/docs/quarks-operator/concepts/entanglements/">Entanglements</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorconceptsprocess_control" href="/docs/quarks-operator/concepts/process_control/">Process Control</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatorconceptswaiting_services" href="/docs/quarks-operator/concepts/waiting_services/">Waiting for services</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatortroubleshooting" href="/docs/quarks-operator/troubleshooting/">Troubleshooting</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-operator/development/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Development</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-operatordevelopment">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatordevelopmentreleasing" href="/docs/quarks-operator/development/releasing/">Releasing</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-operator/development/controllers/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Controllers</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-operatordevelopmentcontrollers">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatordevelopmentcontrollersbosh_deployment" href="/docs/quarks-operator/development/controllers/bosh_deployment/">BOSH Deployment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatordevelopmentcontrollersquarks_restart" href="/docs/quarks-operator/development/controllers/quarks_restart/">Quarks restart</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-operatordevelopmentlabels" href="/docs/quarks-operator/development/labels/">Labels</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-job/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quarks Job</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-job">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-job/cli/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CLI</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-jobcli">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-jobcliquarks-job" href="/docs/quarks-job/cli/quarks-job/">quarks-job</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-jobcliquarks-job_persist-output" href="/docs/quarks-job/cli/quarks-job_persist-output/">quarks-job persist-output</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-jobcliquarks-job_version" href="/docs/quarks-job/cli/quarks-job_version/">quarks-job version</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-job/development/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Development</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-jobdevelopment">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-secret/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quarks Secret</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-secret">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-secret/cli/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CLI</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-secretcli">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-secretcliquarks-secret" href="/docs/quarks-secret/cli/quarks-secret/">quarks-secret</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-secretcliquarks-secret_version" href="/docs/quarks-secret/cli/quarks-secret_version/">quarks-secret version</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-secrettasks" href="/docs/quarks-secret/tasks/">Tasks</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-secret/development/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Development</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-secretdevelopment">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-statefulset/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quarks Statefulset</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-statefulset">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/quarks-statefulset/development/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Development</a>
  </li>
  <ul>
    <li class="collapse " id="docsquarks-statefulsetdevelopment">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsquarks-statefulsetdevelopmentstatefulsetrollout" href="/docs/quarks-statefulset/development/statefulsetrollout/">StatefulSet Rollout</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/development/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Development</a>
  </li>
  <ul>
    <li class="collapse " id="docsdevelopment">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdevelopmentbuilding" href="/docs/development/building/">Build quarks-operator</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdevelopmenttesting" href="/docs/development/testing/">Testing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdevelopmenttooling" href="/docs/development/tooling/">Tooling</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdevelopmentnaming" href="/docs/development/naming/">Naming Conventions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdevelopmentabout_operators" href="/docs/development/about_operators/">About operators</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/contribution-guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribution Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="docscontribution-guidelines">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/cloudfoundry-incubator/quarks-docs/edit/master/content/en/docs/quarks-operator/concepts/from_bosh_to_kube.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudfoundry-incubator/quarks-docs/issues/new?title=From%20BOSH%20to%20Kubernetes" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/cloudfoundry-incubator/quarks-operator/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#high-level-direction">High-level Direction</a></li>
    <li><a href="#open-questions">Open Questions</a></li>
    <li><a href="#missing-features">Missing Features</a></li>
    <li><a href="#deployment-lifecycle">Deployment Lifecycle</a></li>
    <li><a href="#example-deployment-manifest-conversion-details">Example Deployment Manifest Conversion Details</a></li>
    <li><a href="#bpm">BPM</a>
      <ul>
        <li><a href="#entrypoint--environment-variables">Entrypoint &amp; Environment Variables</a></li>
        <li><a href="#resources">Resources</a></li>
        <li><a href="#health-checks">Health checks</a></li>
        <li><a href="#hooks">Hooks</a></li>
      </ul>
    </li>
    <li><a href="#conversion-details">Conversion Details</a>
      <ul>
        <li><a href="#calculation-of-docker-image-location-for-releases">Calculation of docker image location for releases</a></li>
        <li><a href="#variables-to-quarks-secrets">Variables to Quarks Secrets</a></li>
        <li><a href="#instance-groups-to-quarks-statefulsets-and-jobs">Instance Groups to Quarks StatefulSets and Jobs</a></li>
      </ul>
    </li>
    <li><a href="#miscellaneous">Miscellaneous</a>
      <ul>
        <li><a href="#dealing-with-azs">Dealing with AZs</a></li>
        <li><a href="#support-for-activepassive-pod-replicas">Support for active/passive pod replicas</a></li>
        <li><a href="#ephemeral-disks">Ephemeral Disks</a></li>
        <li><a href="#credentials-for-docker-registries">Credentials for Docker Registries</a></li>
        <li><a href="#running-manual-errands">Running manual errands</a></li>
        <li><a href="#readiness-and-liveness-probes">Readiness and Liveness Probes</a></li>
        <li><a href="#persistent-disks">Persistent Disks</a></li>
        <li><a href="#manual-implicit-variables">Manual (&ldquo;implicit&rdquo;) variables</a></li>
        <li><a href="#pre_render_scripts">Pre_render_scripts</a></li>
        <li><a href="#bosh-dns">BOSH DNS</a></li>
      </ul>
    </li>
    <li><a href="#flow">Flow</a></li>
    <li><a href="#naming-conventions">Naming Conventions</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="https://quarks.suse.dev/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://quarks.suse.dev/docs/quarks-operator/">Quarks Operator</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://quarks.suse.dev/docs/quarks-operator/concepts/">Concepts</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://quarks.suse.dev/docs/quarks-operator/concepts/from_bosh_to_kube/">Transforming BOSH concepts to Kubernetes</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>From BOSH to Kubernetes</h1>
    <div class="lead">Guidelines on transforming BOSH concepts to Kubernetes</div>
	       
	<h2 id="high-level-direction">High-level Direction</h2>
<ul>
<li>releases are defined in the usual way (a <code>releases</code> block), but the information given is used to build a reference for a docker image</li>
<li>each instance group is transformed to an <a href="../../../quarks-statefulset/development/">Quarks StatefulSet</a> or an <a href="../../../quarks-job/development">QuarksJob</a></li>
<li>each BOSH Job corresponds to one or more containers in the <code>Pod</code> template defined in the <a href="../../../quarks-statefulset/development">Quarks StatefulSet</a> or the <a href="../../../quarks-job/development">QuarksJob</a>; there&rsquo;s one container for each process defined in the BPM information of each BOSH Job</li>
<li>&ldquo;explicit&rdquo; <code>variables</code> are generated using <a href="../../../quarks-secret/development">Quarks Secret</a></li>
<li>for rendering of BOSH Job Templates, please read &ldquo;<a href="../rendering_templates">Rendering BOSH templates</a>&rdquo;</li>
<li>we have a concept of <a href="../desired_manifests">Desired Manifests</a></li>
<li>all communication happens through Kubernetes <code>Services</code>, which have deterministic DNS Addresses; you can read more about these <a href="../rendering_templates#services-and-dns-addresses">here</a></li>
</ul>
<h2 id="open-questions">Open Questions</h2>
<ol>
<li>How do we rename things going from one version to the next?</li>
</ol>
<h2 id="missing-features">Missing Features</h2>
<ol>
<li>Canary support in QuarksStatefulSets</li>
<li>Missing support for the <code>allow_executions</code> flag in bpm configs</li>
</ol>
<h2 id="deployment-lifecycle">Deployment Lifecycle</h2>
<p>Please read the <a href="../../development/controllers/bosh_deployment">documentation for the <code>BOSHDeployment</code> controller</a>.</p>
<h2 id="example-deployment-manifest-conversion-details">Example Deployment Manifest Conversion Details</h2>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">121
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">122
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">123
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">124
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">125
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">126
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">127
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">128
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">129
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">130
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">131
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">132
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">133
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">134
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">135
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">136
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">137
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">138
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">139
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">140
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">141
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">142
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">143
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">144
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">145
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">146
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">147
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">148
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">149
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">150
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">151
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">152
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">153
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">154
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">155
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">156
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">157
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">158
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">159
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">160
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">161
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">162
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">163
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">164
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">165
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">166
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">167
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">168
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">169
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">170
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">171
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">172
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">173
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">174
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">175
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">176
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">177
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">178
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">179
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">180
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">181
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">182
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">183
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">184
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">185
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">186
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">187
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">188
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">189
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">190
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">191
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">192
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">193
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">194
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">195
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">196
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">197
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">198
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">199
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">200
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">201
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">202
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">203
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">204
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">205
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">206
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">207
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">208
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">209
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">210
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">211
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">212
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">213
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">214
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">215
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">216
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">217
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">218
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">219
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">220
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">221
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">222
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">223
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">224
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">225
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">226
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">227
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">228
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">229
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">230
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">231
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">232
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">233
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">234
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">235
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">236
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">237
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">238
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">239
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">240
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">241
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">242
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">243
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">244
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">245
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">246
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">247
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">248
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">249
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">250
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">251
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">252
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">253
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">254
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">255
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">256
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">257
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">258
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">259
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">260
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">261
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">262
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">263
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">264
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">265
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">266
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">267
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">268
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">269
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">270
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">271
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">272
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">273
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">274
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">275
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">276
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">277
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">278
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">279
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">280
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">281
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">282
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">283
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">284
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">285
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">286
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">287
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">288
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">289
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">290
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">291
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">292
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">293
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">294
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">295
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">296
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">297
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">298
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">299
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">300
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">301
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">302
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">303
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">304
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">305
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">306
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">307
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">308
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">309
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">310
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">311
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">312
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">313
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">314
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">315
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">316
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">317
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">318
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">319
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">320
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">321
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">322
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">323
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">324
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">325
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">326
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">327
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">328
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">329
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">330
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">331
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">332
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">333
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">334
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">335
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">336
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">337
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">338
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">339
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">340
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">341
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># The name of the deployment. Replace the name with the name of the BOSHDeployment resource</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># It&#39;s used to namespace resources created for this deployment.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Based on docs [1], names should be less than 253 characters. We should limit this to</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># characters in the operator, to make sure that with any suffix, we won&#39;t go beyond the limit.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;foo&#34;</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># A warning is printed in the logs if this is present.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">director_uuid</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;bar&#34;</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># A hash of director features. We could use this to control operator features as well.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">features</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Enable variables to be regenerated by the config server (e.g. CredHub) when the variable options change. Default false.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># In the cf-operator, if an QuarksSecret is changed, (e.g. a new domain is added to a cert),</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># the value will be automatically updated.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># The operator won&#39;t be able to control this behavior.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># A warning is printed in the logs if this is present.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">converge_variables</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">true</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Randomizes AZs for left over instances that cannot be distributed equally between AZs.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not currently used. It&#39;s likely that we&#39;ll be able to support this.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">randomize_az_placement</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Enables or disables returning of DNS addresses in links.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># In Kubernetes we always use DNS addresses.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># An error should be returned if this value is set to false.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">use_dns_addresses</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">true</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># A list of all releases used in this deployment.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Required.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Each release&#39;s image reference is constructed from this information like this:</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># &lt;url&gt;/&lt;name&gt;:&lt;stemcell.os&gt;-&lt;stemcell.version&gt;-&lt;version&gt;</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">releases</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Name of a release used in the deployment.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;capi-release&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># The version of the release to be used.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># &#34;latest&#34; is not supported by the cf-operator. An error is thrown if &#34;latest&#34; is used.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">version</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;1.0&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Required for the operator. Link to the registry and organization containing the image.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">url</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;docker.io/cloudfoundry&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Integrity of the image itself is handled by whatever</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># container runtime and the image registry.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">sha1</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;332ac15609b220a3fdf5efad0e0aa069d8235788&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Required by the operator</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">stemcell</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># OS of the stemcell used by the release. Used to construct the image name.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">os</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;opensuse&#34;</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Version of the OS of the stemcell used by the release.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">version</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;42.3&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Only used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># A secret is created with the credentials [2], used by the pods</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># that reference this release.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">credentials</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">username</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;foo&#34;</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">password</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;secret&#34;</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># A warning is logged if this is set</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">stemcells</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Specifies how updates are handled</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># The cf-operator uses some of these settings.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">update</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># The number of pods to deploy in the new version of an QuarksStatefulSet</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Once canaries are running, deployment can continue.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># TODO: Support for canaries needs implementation in QuarksStatefulSet.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">canaries</span>:<span style="color:#666"> </span><span style="color:#3677a9">2</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Time to wait for canary pods to be ready in a new version of an QuarksStatefulSet</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">canary_watch_time</span>:<span style="color:#666"> </span><span style="color:#3677a9">100</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># The maximum number of non-canary instances to update in parallel for an QuarksStatefulSet.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># TODO: Support for this needs to be implemented in the controller.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">max_in_flight</span>:<span style="color:#666"> </span><span style="color:#3677a9">2</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># TODO: is there a need for this in QuarksStatefulSet (in a readiness Probe?)</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">update_watch_time</span>:<span style="color:#666"> </span><span style="color:#3677a9">0</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not used in cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># All instance groups are deployed at the same time.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># If set to true, a warning is logged.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">serial</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not used in cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># If set, a warning is logged.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">vm_strategy</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;&#34;</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Each instance group is converted into an QuarksStatefulSet</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">instance_groups</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Used to name the QuarksStatefulSet or QuarksJob</span><span style="color:#666">
</span><span style="color:#666"></span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;api-az1&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Support for AZs is implemented in the QuarksStatefulSet</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">azs</span>:<span style="color:#666"> </span>[<span style="color:#ed9d13">&#34;az1&#34;</span>]<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Number of replicas for the StatefulSets in an QuarksStatefulSet</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># If this instance group defines an QuarksJob, this value must be 1. An error is thrown otherwise</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">instances</span>:<span style="color:#666"> </span><span style="color:#3677a9">3</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Each job results in a rendered bpm.yml file.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># BPM information is required - the deployment fails if it&#39;s missing.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Each job has one or more processes (defined in bpm.yml), and each   corresponds to a container of a pod in a StatefulSet or Job</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">jobs</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># It&#39;s used to name the container</span><span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;cloud_controller_ng&#34;</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># The name of a release that must exist in the releases block.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># If it doesn&#39;t exist in the releases block, an error is thrown.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># The docker image used for the container is resolved using this release name.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">release</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;capi-release&#34;</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Used by the cf-operator to calculate links before rendering templates.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># All resources in the cf-operator are deterministic (IP addresses are not used),</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># So they can be calculated before template rendering occurs.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">consumes</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Same as the consumes block above.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">provides</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Defines all properties, used to render job templates.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Job templates are rendered as Secrets, and then mounted into pod containers.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># If a property is changed, the operator runs rendering in an QuarksJob, and the</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># template&#39;s secret is (re)generated.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># All properties are input to this QuarksJob that does rendering.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Some properties can reference variables, which can be generated. The cf-operator</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># collects values for all properties before starting the rendering process.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">properties</span>:<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">domain</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;mycf.com&#34;</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">admin_password</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;((adminpass))&#34;</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Extra information specific to the cf-operator</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">quarks</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">run</span>:<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Hints for pod replica count</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">scaling</span>:<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">min</span>:<span style="color:#666"> </span><span style="color:#3677a9">1</span><span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">max</span>:<span style="color:#666"> </span><span style="color:#3677a9">3</span><span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">ha</span>:<span style="color:#666"> </span><span style="color:#3677a9">2</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Extra capabilities required by the containers of this job</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">capabilities</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Memory used by each container. Overrides info from vm_resources.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">memory</span>:<span style="color:#666"> </span><span style="color:#3677a9">128</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Number of vCPUs used by each container. Overrides info from vm_resources.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">virtual-cpus</span>:<span style="color:#666"> </span><span style="color:#3677a9">2</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Healthcheck information for the containers in this job.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">healthcheck</span>:<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">some_process_name</span>:<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">readiness</span>:<span style="color:#666">
</span><span style="color:#666">                </span><span style="color:#6ab825;font-weight:bold">exec</span>:<span style="color:#666">
</span><span style="color:#666">                  </span><span style="color:#6ab825;font-weight:bold">command</span>:<span style="color:#666">
</span><span style="color:#666">                  </span>- <span style="color:#ed9d13">&#34;curl --silent --fail --head http://${HOSTNAME}:8080/health&#34;</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># List of ports to be opened up for this job.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">ports</span>:<span style="color:#666">
</span><span style="color:#666">        </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;health-port&#34;</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">protocol</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;TCP&#34;</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">internal</span>:<span style="color:#666"> </span><span style="color:#3677a9">8080</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">vm_type</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">vm_extensions</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Used by the cf-operator to limit the resources used by a container in a pod</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">vm_resources</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Number of vCPUs used by a container</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">cpu</span>:<span style="color:#666"> </span><span style="color:#3677a9">4</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Memory used by a container</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">ram</span>:<span style="color:#666"> </span><span style="color:#3677a9">1024</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Used for PVC sizes if `ephemeralAsPVC` is set to true</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">ephemeral_disk_size</span>:<span style="color:#666"> </span><span style="color:#3677a9">4096</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">stemcell</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Size of the volume attached to a pod container.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">persistent_disk</span>:<span style="color:#666"> </span><span style="color:#3677a9">4096</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># This must be the name of a StorageClass used by the cf-operator to create volumes.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">persistent_disk_type</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;default&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># A warning is logged if this key is set.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">networks</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Not used by the cf-operator</span><span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;foo&#34;</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">static_ips</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">default</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Specific update settings for this instance group. Use this to override global job update settings on a per-instance-group basis.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">update</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># TODO: understand how instance group renames can occur in an QuarksStatefulSet or QuarksJob</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">migrated_from</span>:<span style="color:#666">
</span><span style="color:#666">  </span>- cloud_controller<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># This is the key that controls how an instance group is treated by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># If lifecycle is &#34;service&#34;, an QuarksStatefulSet is created for the instance group.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Otherwise, if it&#39;s &#34;errand&#34;, an QuarksJob is created. As with normal BOSH, errands have a</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># manual trigger, so QuarksJobs have to support this (manual triggers).</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># In Kubernetes we also need errands that can run on a trigger. These are not supported by BOSH.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># The lifecycle for such an QuarksJob is &#34;auto-errand&#34;.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Manual triggers are supported by QuarksJobs</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">lifecycle</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;service&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Deprecated - the cf-operator does not support this key.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># An error is thrown if this is set.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">properties</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># Usually used for BOSH Agent configuration.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># We can use this hash to control how the operator generates resources, however</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># none of the settings used by the Agent are supported by the operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">env</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">persistent_disk_fs</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;ext4&#34;</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">persistent_disk_mount_options</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">bosh [Hash, optional]</span>:<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">password</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;foo&#34;</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">keep_root_password</span>:<span style="color:#666"> </span>vcap<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">remove_dev_tools</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">remove_static_libraries</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span>.<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">swap_size</span>:<span style="color:#666"> </span><span style="color:#3677a9">100</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">ipv6</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">enable</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">job_dir</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">tmpfs</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">tmpfs_size</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;0m&#34;</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">agent</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># Not used by the cf-operator.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># A warning is logged if this is set.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">tmpfs</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># Used by the cf-operator to set kubernetes-specific information</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#999;font-style:italic"># for the resources representing this instance group.</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">settings</span>:<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Affinity information for this instance group&#39;s pod.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># These definitions are merged directly into the pod&#39;s definition.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># The structure is the same as the one used by Kube [3].</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">affinity</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Labels to add to the resources representing the instance group</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">labels</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Annotations to add to the resources representing the instance group</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">annotations</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Ops files that are applied on top of instance group properties yaml or BPM data yaml</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">preRenderOps</span>:<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">bpm</span>:<span style="color:#666">
</span><span style="color:#666">            </span>- <span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>replace<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">path</span>:<span style="color:#666"> </span>/foo<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">value</span>:<span style="color:#666"> </span>bar<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">instanceGroup</span>:<span style="color:#666">
</span><span style="color:#666">            </span>- <span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>replace<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">path</span>:<span style="color:#666"> </span>/foo<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">value</span>:<span style="color:#666"> </span>bar<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># disable_log_sidecar is an option to disable log sidecar</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">disable_log_sidecar</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># serviceAccountName is the name of the ServiceAccount to use to run this pod.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">serviceAccountName</span>:<span style="color:#666"> </span>kubecf<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># automountServiceAccountToken indicates whether a service account token should be automatically mounted</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">automountServiceAccountToken</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># ImagePullSecrets is an optional list of references to secrets to use for pulling any of the images.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># This field in PodSpec can be automated by setting the imagePullSecrets in a serviceAccount.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">imagePullSecrets</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># Tolerations and taints are a concept defined in kubernetes to repel pods from nodes. [4]</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">tolerations</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># If this is set to true, the operator will define a PersistentVolumeClaim template</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># on the QuarksStatefulSet of the instance group, and it will use that PVC for all volume</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># mounts for ephemeral disks</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">ephemeralAsPVC</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">false</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># This sets the backoffLimit for the jobs running errands. If not set, it will use the Kube default which is 6.</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#handling-pod-and-container-failures</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">jobBackoffLimit</span>:<span style="color:#666"> </span><span style="color:#3677a9">6</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#999;font-style:italic"># An array of disks to be mounted on the containers</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">disks</span>:<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#999;font-style:italic"># A PersistentVolumeClaim to be used as a template in the StatefulSet of the instance group.</span><span style="color:#666">
</span><span style="color:#666">          </span>- <span style="color:#6ab825;font-weight:bold">pvc</span>:<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>foo<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">storageClassName</span>:<span style="color:#666"> </span>persistent<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#999;font-style:italic"># Volume definition to be included in the pod.</span><span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">volume</span>:<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>extravolume<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">emptyDir</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#999;font-style:italic"># Volume mounts to be set on the containers that match the job and process set in &#34;filters&#34;.</span><span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">volumeMount</span>:<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>extravolume<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">mountPath</span>:<span style="color:#666"> </span>/var/vcap/data/rep<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#999;font-style:italic"># Filters to identify on which containers to apply the volume mounts.</span><span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">filters</span>:<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">job_name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;cflinuxfs3-rootfs-setup&#34;</span><span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">process_name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;test-server&#34;</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Each addon job is added to the desired manifest before it&#39;s persisted</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Not all placement rules are supported, see below for more details.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">addons</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># The name of the addon is not used by the operator.</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># TODO: investigate whether it&#39;s useful to  set this in an annotation of the instance group sts/pod</span><span style="color:#666">
</span><span style="color:#666"></span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>foo<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># All jobs are added to instance groups based on placement rules before the desired manifest is persisted</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">jobs</span>:<span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>metron<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">release</span>:<span style="color:#666"> </span>loggregator-release<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">properties</span>:<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">loggregator</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">metron</span>:<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">log_level</span>:<span style="color:#666"> </span>debug<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">include</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Supported</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">stemcell</span>:<span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">os</span>:<span style="color:#666"> </span>opensuse<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Not supported, addons are used per-deployment</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">deployments</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Supported</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">jobs</span>:<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>cloud_controller_ng<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">release</span>:<span style="color:#666"> </span>capi-release<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Supported</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">instance_groups</span>:<span style="color:#666">
</span><span style="color:#666">    </span>- api<span style="color:#666">
</span><span style="color:#666">    </span>- diego-cell<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Not supported</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">networks</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Not supported</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">teams</span>:<span style="color:#666"> </span>[]<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#999;font-style:italic"># The same matchers are supported as the &#34;include&#34; key</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">exclude</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Deprecated - the cf-operator does not support this key.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># An error is thrown if this is set.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">properties</span>:<span style="color:#666"> </span>{}<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># For each variable, the cf-operator creates QuarksSecrets</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># As with normal BOSH, variables are referenced by job properties.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Each variable&#39;s generated secret is mounted in the container that renders each job&#39;s</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># templates. They are then used by the rendering process.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># This means that the operator needs to look at the job&#39;s properties, and parse any references</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># to variables, so it knows what it needs to mount.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">variables</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Unique name used to identify a variable. Used to name the QuarksSecret</span><span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;adminPass&#34;</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># As with normal BOSH, supported types are certificate, password, rsa, and ssh.</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;password&#34;</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#999;font-style:italic"># Specifies generation options</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">options</span>:<span style="color:#666"> </span>{<span style="color:#6ab825;font-weight:bold">is_ca: true, common_name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;some-ca&#34;</span>}<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># Tags are transformed into annotations for the resources created</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#999;font-style:italic"># by this deployment.</span><span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">tags</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">maintainer</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;Philip J. Fry&#34;</span><span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>[1] <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names">https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></li>
<li>[2] <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/">https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/</a></li>
<li>[3] <a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity</a></li>
<li>[4] <a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/</a></li>
</ul>
<h2 id="bpm">BPM</h2>
<p>In a BOSH release some jobs have BPM configuration in <code>templates/bpm.yml.erb</code>. Each process specified in the BPM configuration is run in a single Kubernetes <code>Container</code> as part of a <code>Pod</code>.</p>
<p>The following subsections describe the mapping of BPM configuration into containers.</p>
<h3 id="entrypoint--environment-variables">Entrypoint &amp; Environment Variables</h3>
<table>
<thead>
<tr>
<th>Bosh</th>
<th>Kube Pod Container</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>executable</code></td>
<td><code>command</code></td>
</tr>
<tr>
<td><code>args</code></td>
<td><code>args</code></td>
</tr>
<tr>
<td><code>env</code></td>
<td><code>env</code></td>
</tr>
</tbody>
</table>
<h3 id="resources">Resources</h3>
<table>
<thead>
<tr>
<th>Bosh</th>
<th>Kube Pod Container</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>workdir</code></td>
<td><code>workingDir</code>. Not implemented yet.</td>
</tr>
<tr>
<td><code>hooks</code></td>
<td><code>initContainers</code>. and container hooks. Not implemented yet.</td>
</tr>
<tr>
<td><code>process.capabilities</code></td>
<td><code>container.SecurityContext.Capabilities</code>.</td>
</tr>
<tr>
<td><code>limits</code></td>
<td><code>container.Resources.Limits</code>. Not implemented yet.</td>
</tr>
<tr>
<td><code>ephemeral_disk</code></td>
<td><code>emptyDir</code> volumes by default, but can be <code>PersistentVolumeClaims</code> if <code>ephemeralAsPVC</code> is set on the <code>bosh.agent.settings</code>.</td>
</tr>
<tr>
<td><code>persistent_disk</code></td>
<td><code>PersistentVolumeClaims</code>. Not yet implemented.</td>
</tr>
<tr>
<td><code>additional_volumes</code></td>
<td><code>emptyDir</code>. Paths under /var/vcap/store are currently ignored.</td>
</tr>
<tr>
<td><code>unsafe.unrestricted_volumes</code></td>
<td><code>emptyDir</code>. Paths under /var/vcap/store are currently ignored.</td>
</tr>
<tr>
<td><code>unsafe.privileged</code></td>
<td><code>container.SecurityContext.Privileged</code>.</td>
</tr>
</tbody>
</table>
<p>If you are looking for limits and resource request for BPM processes, &ldquo;<a href="../resources_limit">BOSH resource requests and limits</a>&rdquo;.</p>
<h3 id="health-checks">Health checks</h3>
<p>BPM doesn&rsquo;t provide information for health checks and relies on monit instead.
CF-Operator provides health checks via the <a href="https://github.com/cloudfoundry-incubator/cf-operator/blob/master/pkg/bosh/manifest/containerization.go#L11">quarks</a> property key in the deployment manifest.</p>
<p>In Kubernetes, we use <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/">liveness and readiness probes</a> for healthchecks.</p>
<h3 id="hooks">Hooks</h3>
<p>BPM supports <code>pre_start</code> hooks. CF-Operator will convert those to additional init containers.</p>
<h2 id="conversion-details">Conversion Details</h2>
<h3 id="calculation-of-docker-image-location-for-releases">Calculation of docker image location for releases</h3>
<p>Release image tags are immutable.
The release image locations are comprised of multiple elements:</p>
<ul>
<li>docker registry URL</li>
<li>organization and repository</li>
<li>stemcell name and version</li>
<li>fissile version</li>
<li>the release name and version</li>
</ul>
<p>Release image locations always have to be resolved in the context of an instance group/job because they depend on the stemcell that is being used.</p>
<p>A typical release image location looks could look like <code>hub.docker.com/cfcontainerization/cflinuxfs3-release:opensuse-15.0-28.g837c5b3-30.263-7.0.0_233.gde0accd0-0.62.0</code>.</p>
<p>The different elements are taken from different places in the manifest. Given this excerpt from a BOSH deployment manifest:</p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6ab825;font-weight:bold">stemcells</span>:<span style="color:#666">
</span><span style="color:#666"></span>- <span style="color:#6ab825;font-weight:bold">alias</span>:<span style="color:#666"> </span>default<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">os</span>:<span style="color:#666"> </span>opensuse<span style="color:#3677a9">-42.3</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">version</span>:<span style="color:#666"> </span><span style="color:#3677a9">28.</span>g837c5b3<span style="color:#3677a9">-30.263-7.0</span>.0_234.gcd7d1132<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">instance_groups</span>:<span style="color:#666">
</span><span style="color:#666"></span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>diego-cell<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">stemcell</span>:<span style="color:#666"> </span>default<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">jobs</span>:<span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>cflinuxfs3-rootfs-setup<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">release</span>:<span style="color:#666"> </span>cflinuxfs3<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">releases</span>:<span style="color:#666">
</span><span style="color:#666"></span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>cflinuxfs3<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">version</span>:<span style="color:#666"> </span><span style="color:#3677a9">0.62.0</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">url</span>:<span style="color:#666"> </span>hub.docker.com/cfcontainerization<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">sha1</span>:<span style="color:#666"> </span>6466c44827c3493645ca34b084e7c21de23272b4<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">stemcell</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">os</span>:<span style="color:#666"> </span>opensuse<span style="color:#3677a9">-15.0</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">version</span>:<span style="color:#666"> </span><span style="color:#3677a9">28.</span>g837c5b3<span style="color:#3677a9">-30.263-7.0</span>.0_233.gde0accd0<span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div><p>The stemcell information (name, and stemcell and fissile version) are taken from the <code>stemcells</code> entry that matches the instance group&rsquo;s stemcell alias. The registry URL including the organization, the release name, and the version come from the <code>releases</code> entry that&rsquo;s referenced from the job.</p>
<blockquote>
<p><strong>Note:</strong></p>
<p>Releases can optionally specify a separate <code>stemcell</code> section, in which case the information from the instance group stemcell is overridden.</p>
</blockquote>
<h3 id="variables-to-quarks-secrets">Variables to Quarks Secrets</h3>
<p>For each <strong>Explicit BOSH Variable</strong> (with a definition in the <code>variables</code> section in the deployment manifest), the cf-operator creates an <code>QuarksSecret</code>.
The <code>QuarksSecret</code> is meant to generate the value required by the variable.</p>
<p>The name of the <code>QuarksSecret</code> is calculated like this:</p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">var-&lt;VARIABLE_NAME&gt;
</code></pre></td></tr></table>
</div>
</div><p>The name of the final generated <code>Secret</code> (the <code>secretName</code> key of the <code>QuarksSecret</code>) is calculated the same way.</p>
<h4 id="overriding-generated-variables">Overriding generated variables</h4>
<p>The user can also specify overrides for generated secrets using the <code>vars</code> key in the <code>BOSHDeployment</code> spec.</p>
<p>These map explicit variable names to secret names.</p>
<p>Each secret must contain the usual keys used in explicit variables (see <a href="https://bosh.io/docs/variable-types/">here</a> for more details).</p>





<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">101
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>Secret<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>var-system-domain<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>Opaque<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">stringData</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">value</span>:<span style="color:#666"> </span>foo.com<span style="color:#666">
</span><span style="color:#666"></span>---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>Secret<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>my-nats-password<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>Opaque<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">stringData</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">password</span>:<span style="color:#666"> </span>deadbeef<span style="color:#666">
</span><span style="color:#666"></span>---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>Secret<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>my-ca<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>Opaque<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">stringData</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">certificate</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;my-ca-cert-data&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">private_key</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;my-ca-private-key&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">is_ca</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;true&#34;</span><span style="color:#666">
</span><span style="color:#666"></span>---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>Secret<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>my-cert<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>Opaque<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">stringData</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">certificate</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;my-cert-data&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">private_key</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;my-private-key-data&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">is_ca</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;false&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">ca</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;my-ca-cert-data&#34;</span><span style="color:#666">
</span><span style="color:#666"></span>---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>ConfigMap<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats-manifest<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">data</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">manifest</span>:<span style="color:#666"> </span><span style="color:#ed9d13">|
</span><span style="color:#ed9d13">    ---</span><span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats-deployment<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">releases</span>:<span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">version</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;33&#34;</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">url</span>:<span style="color:#666"> </span>docker.io/cfcontainerization<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">stemcell</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">os</span>:<span style="color:#666"> </span>SLE_15_SP1<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">version</span>:<span style="color:#666"> </span><span style="color:#3677a9">26.1-7.0</span>.0_374.gb8e8e6af<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">instance_groups</span>:<span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">instances</span>:<span style="color:#666"> </span><span style="color:#3677a9">1</span><span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">jobs</span>:<span style="color:#666">
</span><span style="color:#666">      </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">release</span>:<span style="color:#666"> </span>nats<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">properties</span>:<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">nats</span>:<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">user</span>:<span style="color:#666"> </span>admin<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">password</span>:<span style="color:#666"> </span>((nats_password))<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">domain</span>:<span style="color:#666"> </span>((system_domain))<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">ca_cert</span>:<span style="color:#666"> </span>((nats_ca.certificate))<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">ca_key</span>:<span style="color:#666"> </span>((nats_ca.private_key))<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">cert</span>:<span style="color:#666"> </span>((nats_cert.certificate))<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">key</span>:<span style="color:#666"> </span>((nats_cert.private_key))<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">cert_ca</span>:<span style="color:#666"> </span>((nats_cert.ca))<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">variables</span>:<span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats_password<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>password<span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats_ca<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>certificate<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">options</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">is_ca</span>:<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">true</span><span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">common_name</span>:<span style="color:#666"> </span>routerCA<span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats_cert<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>certificate<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">options</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">ca</span>:<span style="color:#666"> </span>nats_ca<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">common_name</span>:<span style="color:#666"> </span>routerSSL<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">alternative_names</span>:<span style="color:#666">
</span><span style="color:#666">        </span>- <span style="color:#ed9d13">&#34;foo.((system_domain))&#34;</span><span style="color:#666">
</span><span style="color:#666">        </span>- <span style="color:#ed9d13">&#34;*.foo.bar&#34;</span><span style="color:#666">
</span><span style="color:#666"></span>---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>quarks.cloudfoundry.org/v1alpha1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>BOSHDeployment<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats-deployment<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">spec</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">manifest</span>:<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats-manifest<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>configmap<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">vars</span>:<span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats_password<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">secret</span>:<span style="color:#666"> </span>my-nats-password<span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats_ca<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">secret</span>:<span style="color:#666"> </span>my-ca<span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>nats_cert<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">secret</span>:<span style="color:#666"> </span>my-cert<span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div>

<small> Complete source code:  <a target=_blank href="https://github.com/cloudfoundry-incubator/quarks-operator/blob/master/docs/examples/bosh-deployment/boshdeployment-with-user-variable.yaml">https://github.com/cloudfoundry-incubator/quarks-operator/blob/master/docs/examples/bosh-deployment/boshdeployment-with-user-variable.yaml</a> </small>
<hr>
<h3 id="instance-groups-to-quarks-statefulsets-and-jobs">Instance Groups to Quarks StatefulSets and Jobs</h3>
<h4 id="bosh-services-vs-bosh-errands">BOSH Services vs BOSH Errands</h4>
<p>BOSH Services are converted to <code>QuarksStatefulSets</code> and <code>Services</code>.</p>
<p>BOSH Errands are converted to <code>QuarksJobs</code> with <code>trigger.strategy: manually</code>.</p>
<p>BOSH Auto-Errands (supported only by the operator) are converted to <code>QuarksJobs</code> with <code>trigger.strategy: once</code>.</p>
<h2 id="miscellaneous">Miscellaneous</h2>
<h3 id="dealing-with-azs">Dealing with AZs</h3>
<p><code>QuarksStatefulSets</code> support AZs. You can learn more about this in <a href="../../../quarks-statefulset/development#az-support">the controller docs for quarks statefulset</a>.</p>
<p>If you don&rsquo;t want to use AZs, remove the key. Otherwise AZ names in the BOSH manifest correspond to the &ldquo;failure-domain.beta.kubernetes.io/zone&rdquo; labels that are set on the nodes.</p>
<h3 id="support-for-activepassive-pod-replicas">Support for active/passive pod replicas</h3>
<p><code>QuarksStatefulSets</code> support active/passive pod replicas. You can learn more about this in <a href="../../../quarks-statefulset/development#_quarksstatefulset-active-passive-controller_">the quarks-statefulset docs</a>.</p>
<h3 id="ephemeral-disks">Ephemeral Disks</h3>
<p>We use an <code>emptyDir</code> for ephemeral disks. You can learn more from <a href="https://kubernetes.io/docs/concepts/storage/volumes/#emptydir">the official docs</a>.</p>
<p>If the setting <code>bosh.settings.agent.ephemeralAsPVC</code> is set to <code>true</code>, the operator will use <code>PersistentVolumeClaims</code> instead.
This option should be used for jobs that make assumptions about ephemeral disks (like this <a href="https://github.com/cloudfoundry/garden-runc-release/tree/develop/jobs/garden">garden</a> job) mounts, or the size limit for the disk is critical.
If <code>vm_resources.ephemeral_disk_size</code> is set, the PVC size will be set to this. If it&rsquo;s not set, the operator will try to use <code>persistent_disk</code> as a size. If this is not set either, the operator will use a default of <code>10GB</code>.</p>
<h3 id="credentials-for-docker-registries">Credentials for Docker Registries</h3>
<p>Providing credentials for private registries is supported by Kubernetes. Please read <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/#registry-secret-existing-credentials">the official docs</a>.</p>
<h3 id="running-manual-errands">Running manual errands</h3>
<p>BOSH makes use of errands, which are manually triggered.
We support manual triggers - you can learn more in the <a href="https://github.com/cloudfoundry-incubator/quarks-job/blob/master/docs/quarksjob.md#errands">QuarksJob docs</a>.</p>
<h3 id="readiness-and-liveness-probes">Readiness and Liveness Probes</h3>
<p>When the deployment manifest declares health check information for jobs, via the <code>quarks</code> section, we configure those in Kubernetes.</p>
<p>The probes are defined per BPM process.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6ab825;font-weight:bold">instance_groups</span>:<span style="color:#666">
</span><span style="color:#666"></span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#34;api-az1&#34;</span><span style="color:#666">
</span><span style="color:#666">  </span>process.<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">properties</span>:<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">quarks</span>:<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">run</span>:<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">healthcheck</span>:<span style="color:#666">
</span><span style="color:#666">            </span><span style="color:#6ab825;font-weight:bold">bpm-process-name</span>:<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">readiness</span>:<span style="color:#666">
</span><span style="color:#666">              </span><span style="color:#6ab825;font-weight:bold">liveness</span>:<span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div><p>Both keys contain information that should is used as-is for the container that matches the process name.</p>
<h3 id="persistent-disks">Persistent Disks</h3>
<p>When a BOSH deployment manifest declares persistent disks on instance groups, we provide a persistent volume to the containers of a pod in <code>/var/vcap/store</code>. You can learn more about BOSH Persistent Disks in the <a href="https://bosh.io/docs/persistent-disks/">BOSH Official Docs</a>.</p>
<p>These volumes are mounted on each container that&rsquo;s part of the instance group.</p>
<p>The implementation uses the default storage class if not specified using the <code>persistent_disk_type</code> key in the manifest.</p>
<h3 id="manual-implicit-variables">Manual (&ldquo;implicit&rdquo;) variables</h3>
<p>BOSH deployment manifests support two different types of variables, implicit and explicit ones.</p>
<p>&ldquo;Explicit&rdquo; variables are declared in the <code>variables</code> section of the manifest and are generated automatically before the interpolation step.</p>
<p>&ldquo;Implicit&rdquo; variables just appear in the document within double parentheses without any declaration. These variables have to be provided by the user prior to creating the BOSH deployment as a secret. The secret name has to follow the scheme</p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">var-&lt;variable-name&gt;
</code></pre></td></tr></table>
</div>
</div><p>By default the variable content is expected in the <code>value</code> key, e.g.</p>
<pre><code>((system-domain))
</code></pre><div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>Secret<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>var-system-domain<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>Opaque<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">stringData</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">value</span>:<span style="color:#666"> </span>example.com<span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div><p>It is also possible to specify the key name after a <code>/</code> separator, e.g.</p>
<pre><code>((ssl/ca))
</code></pre><div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">apiVersion</span>:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">kind</span>:<span style="color:#666"> </span>Secret<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">metadata</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>var-ssl<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>Opaque<span style="color:#666">
</span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">stringData</span>:<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">ca</span>:<span style="color:#666"> </span>...<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">cert</span>:<span style="color:#666"> </span>...<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">key</span>:<span style="color:#666"> </span>...<span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="pre_render_scripts">Pre_render_scripts</h3>
<p>Similar to what can be achieved in SCF v1, with the <a href="https://github.com/SUSE/scf/tree/develop/container-host-files/etc/scf/config/scripts/patches">patches</a> scripts, the <code>cf-operator</code> is able to support this behaviour. Basically, it allows the user to execute a custom script during runtime of the job container for a specific <code>instance_group</code>. Because patching during runtime is always a great feature to have, for a variety of reasons, users can specify this via the <code>quarks.pre_render_scripts</code> key.</p>
<p>Keep it mind, that the script should belong to a type, to avoid running all scripts as a whole. Currently supported types are:</p>
<ul>
<li><code>quarks.pre_render_scripts.bpm</code>.</li>
<li><code>quarks.pre_render_scripts.ig_resolver</code></li>
<li><code>quarks.pre_render_scripts.jobs</code></li>
</ul>
<p>This allows you to run anything, by specifying a list of commands/scripts to execute. For example:</p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">instance_groups:
- name: redis-slave
  instances: <span style="color:#3677a9">2</span>
  lifecycle: errand
  azs: [z1, z2]
  jobs:
  - name: redis-server
    release: redis
    properties:
      quarks:
        pre_render_scripts:
          bpm:
          - |
            touch /tmp

</code></pre></td></tr></table>
</div>
</div><h3 id="bosh-dns">BOSH DNS</h3>
<p>The BOSH DNS addon is implemented using a separate DNS server (coredns). For each BOSHDeployment, which enables this addon, an additional DNS server is created within the namespace.
The addon is detected by looking at the release field of the addon config, which has to equal &lsquo;bosh-dns-aliases&rsquo; or &lsquo;bosh-dns&rsquo;.
Multiple DNS addons are supported that way, according to the BOSH manifest spec, their names should be unique.</p>
<p>This DNS server rewrites all BOSH dns requests to standard k8s queries (e.g. <code>api.service.cf.internal</code> -&gt; <code>api.&lt;namespace&gt;.svc.cluster.local</code>) and forwards them to the k8s DNS server.
All pods created from the BOSHDeployment are configured to use this DNS server.</p>
<p>Additionally the headless services are created on base of the specified aliases. The following alias</p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">domain</span>:<span style="color:#666"> </span>blobstore.service.cf.internal<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">targets</span>:<span style="color:#666">
</span><span style="color:#666">    </span>- <span style="color:#6ab825;font-weight:bold">deployment</span>:<span style="color:#666"> </span>cf<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">domain</span>:<span style="color:#666"> </span>bosh<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">instance_group</span>:<span style="color:#666"> </span>singleton-blobstore<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">network</span>:<span style="color:#666"> </span>default<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">query</span>:<span style="color:#666"> </span><span style="color:#ed9d13">&#39;*&#39;</span><span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div><p>will create a headless service with the name <code>blobstore</code> instead of <code>singleton-blobstore</code>.</p>
<p>For migration purpose, the DNS service does also a rewrite of all previous headless service names
(e.g. <code>singleton-blobstore</code> is rewritten to <code>blobstore.&lt;namespace&gt;.svc.cluster.local</code>).</p>
<p>The DNS handler addon can be used to conditionally forward queries to another server.
The following addon configuration, will forward all queries for the <code>corp.intranet.local</code> zone to the DNS server at &lsquo;10.0.0.2&rsquo;.</p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6ab825;font-weight:bold">addons</span>:<span style="color:#666">
</span><span style="color:#666"></span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>bosh-dns<span style="color:#666">
</span><span style="color:#666">  </span><span style="color:#6ab825;font-weight:bold">jobs</span>:<span style="color:#666">
</span><span style="color:#666">  </span>- <span style="color:#6ab825;font-weight:bold">name</span>:<span style="color:#666"> </span>bosh-dns<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">release</span>:<span style="color:#666"> </span>bosh-dns<span style="color:#666">
</span><span style="color:#666">    </span><span style="color:#6ab825;font-weight:bold">properties</span>:<span style="color:#666">
</span><span style="color:#666">      </span><span style="color:#6ab825;font-weight:bold">handlers</span>:<span style="color:#666">
</span><span style="color:#666">      </span>- <span style="color:#6ab825;font-weight:bold">domain</span>:<span style="color:#666"> </span>corp.intranet.local.<span style="color:#666">
</span><span style="color:#666">        </span><span style="color:#6ab825;font-weight:bold">source</span>:<span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">recursors</span>:<span style="color:#666">
</span><span style="color:#666">          </span>- <span style="color:#3677a9">10.0.0.2</span><span style="color:#666">
</span><span style="color:#666">          </span><span style="color:#6ab825;font-weight:bold">type</span>:<span style="color:#666"> </span>dns<span style="color:#666">
</span></code></pre></td></tr></table>
</div>
</div><p>When specifying the type as &ldquo;http&rdquo; or &ldquo;https&rdquo;, instead of &ldquo;dns&rdquo;, coredns will use DNS over HTTPS (RFC 8484, DOH).
When specifying &ldquo;tls&rdquo; DNS over TLS (RFC 7858) will be used to connect to the forwarding server.</p>
<h2 id="flow">Flow</h2>
<p><img src="../flow.png" alt="flow">
(Source: <a href="https://docs.google.com/drawings/d/e/2PACX-1vSsapirEQTlBvFDYjRbCxK5IJaxRqPDfTi37OcBVr60BGbDThn83HeHJyRModicUeghc7enfyYY_CHI/pub?w=1279&amp;h=997">https://docs.google.com/drawings/d/e/2PACX-1vSsapirEQTlBvFDYjRbCxK5IJaxRqPDfTi37OcBVr60BGbDThn83HeHJyRModicUeghc7enfyYY_CHI/pub?w=1279&amp;h=997</a>)</p>
<h2 id="naming-conventions">Naming Conventions</h2>
<p>After creating a <code>BOSHDeployment</code> named <code>nats-deployment</code>, with one Instance Group, the following resources should exist:</p>
<ul>
<li>
<p><code>BOSHDeployment</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats-deployment
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>QuarksJob</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">ig
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>QuarksSecret</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">var-nats-password
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>QuarksStatefulSet</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>Secrets</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">bpm.nats-v1
ig-resolved.nats-v1
var-nats-password
with-ops
desired-manifest-v1
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>StatefulSets</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>Pods</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats-0
nats-1
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>Services</code></p>
<div class="highlight"><div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats
nats-0
nats-1
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified September 8, 2020: <a  href="https://github.com/cloudfoundry-incubator/quarks-docs/commit/94d046bb8ee34369a33ae8a67cc3ffcbf0a282ff">Merge pull request #19 from cloudfoundry-incubator/example-sections-174208112 (94d046b)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/cloudfoundry-incubator/quarks-operator/">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://cloudfoundry.slack.com/archives/C1BQKKNP4">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 CloudFoundry.org Foundation, Inc. All Rights Reserved. All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/js/main.min.664f21bf5eb0c31ebc661e2616e6c63e0448cec6d5636d869957be423c3cb952.js" integrity="sha256-Zk8hv16wwx68Zh4mFubGPgRIzsbVY22GmVe&#43;Qjw8uVI=" crossorigin="anonymous"></script>



  </body>
</html>