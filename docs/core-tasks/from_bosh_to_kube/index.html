<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.57.2" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>From BOSH to Kubernetes | Quarks project</title><meta property="og:title" content="From BOSH to Kubernetes" />
<meta property="og:description" content="Guidelines on transforming BOSH concepts to Kubernetes
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://quarks.suse.dev/docs/core-tasks/from_bosh_to_kube/" />
<meta property="article:modified_time" content="2020-08-05T11:52:02+02:00" /><meta property="og:site_name" content="Quarks project" />
<meta itemprop="name" content="From BOSH to Kubernetes">
<meta itemprop="description" content="Guidelines on transforming BOSH concepts to Kubernetes
">


<meta itemprop="dateModified" content="2020-08-05T11:52:02&#43;02:00" />
<meta itemprop="wordCount" content="3206">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="From BOSH to Kubernetes"/>
<meta name="twitter:description" content="Guidelines on transforming BOSH concepts to Kubernetes
"/>







<link rel="preload" href="/scss/main.min.481023817c89db5e7ca64ff61876de274aeb535121605a1eecaf2b0e859c903c.css" as="style">
<link href="/scss/main.min.481023817c89db5e7ca64ff61876de274aeb535121605a1eecaf2b0e859c903c.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>



  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="31.397224mm" height="32.455559mm" viewBox="0 0 31.397224 32.455559" id="svg8" inkscape:version="0.92.4 (5da689c313, 2019-01-14)" sodipodi:docname="logo.svg"><defs id="defs2" /><sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:zoom="5.6" inkscape:cx="67.229874" inkscape:cy="59.529133" inkscape:document-units="mm" inkscape:current-layer="layer1" showgrid="false" inkscape:window-width="950" inkscape:window-height="1035" inkscape:window-x="964" inkscape:window-y="39" inkscape:window-maximized="0" /><g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-56.872814,-53.23056)"><image y="53.23056" x="56.872814" id="image3721" xlink:href="data:image/png;base64,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 3+FtR9NPRfSE+8Y/rhr1WzNrbxsasi39h16berZlsXK4SrR8eVQ/IGue/yb/Y/7d3f8D3DdMh1HT G9kAAAGEaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1tLRSqCdhDpkKE6WRAt4qhVKEKFUCu0 6mBy6Rc0aUhSXBwF14KDH4tVBxdnXR1cBUHwA8TJ0UnRRUr8X1JoEePBcT/e3XvcvQP8zSpTzZ4J QNUsI5NKCrn8qhB6RRBRhDCIhMRMfU4U0/AcX/fw8fUuzrO8z/05+pWCyQCfQDzLdMMi3iCe3rR0 zvvEEVaWFOJz4nGDLkj8yHXZ5TfOJYf9PDNiZDPzxBFiodTFchezsqESJ4hjiqpRvj/nssJ5i7Na rbP2PfkLwwVtZZnrNKNIYRFLECFARh0VVGEhTqtGiokM7Sc9/COOXySXTK4KGDkWUIMKyfGD/8Hv bs3i1KSbFE4CwRfb/hgFQrtAq2Hb38e23ToBAs/Aldbx15rAzCfpjY4WOwIGtoGL644m7wGXO8Dw ky4ZkiMFaPqLReD9jL4pDwzdAn1rbm/tfZw+AFnqKn0DHBwCYyXKXvd4d293b/+eaff3A3zlcqtf vOxqAAAAt1BMVEWrVQAAAAD///////////////////////////////////////////////////// //////////////////////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////////////////////// //////////////////////////////+qKiu/AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJ cEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkBRwHExjk4lsiAAAD8ElEQVRo3u1ZSYurQBAOIy40 SC566ZCDCygdRYSAl/7/v+slrr1U9WIyl+EVw5DE9rPsqvpq6cvlv5yRoGmuX4aM7hkXJRuaL6A2 I4fl/pn+ITfJeHoTYm6TODqB23E36Xz9gDsLCXyAn9xHJnd/4L7i6CcD95ebC3DPzwizA/Oz8mvA NmjOfwma81+CNtyU3vLmTaT5LT0BjfFElisLc8x/Yhh4gldX4OIfeHEIUhu4tEW3rgLXN46bfDc6 0ui21RmwSmExypUNLyGjOLCQuiYHNGJ2dnIwBoQM8a3NHCNIri5UXplVBtznCofCZFRaU7lHQjRw CbDapDIW/KUTKcjv6RD/SCDo6bhEfWdEkXMVsoQKngx9ne3XRCpAZlOxIZH5wACgFy3dbpg9uq/i a2VLMCRH/suR8oaBTwwFH2FAPq1F2kS2A3GaaXtMvVVDr7/tGVEtbWgLb8eAOMaCmBdLUpn351UO lUdSoajniYwA1lJy5JAZ/4hoMU5TjNYJ5IxHWZNvu90LT6Rq6ItpE2Jx2YfvAjNmm8UmIOnhsdbA SXIQ6rZpvaPXFdPYA2DxB8wJ2eqH208tU24fTPww5+NIa1S6YV1bz//XRFoqLNCZmUfjybcXbyTb vJw2TshmZSLfH1hyeMq1R7Wi5cmhUKtoJiPnlso02e8meiGkbJ0fcnHoVexqC1CFtPixy9DqD6Oa AbWENt27cr3vYdULM+owq9hCFR97KkxQ2FpKpSrixFwy00cUbL6Rm6ujnTaimxxW6zcSErAsatSg 1IxaQ608vV23dbMByzqkRH7RCqgEZZCnSuRkda2bwhb0zaPPnTPpcrWwsFSyvH+YxIeXzfrSwxJ7 LmtKESW2sFQdtnuojDtz5jNbsP07HCgRVmC32laJH8i2mYofVVC5kihTBd0nVxXrlXjICiyWIwR0 XWPpFfOdO/f8tXzt7SmFozlsv8oOkgE1oDByaK4XFaOn0CpkKBGYld5CZCmpcgazAKybrcgNLd1R iQIMFujKgqxeLfBLo74dh963TMkZoUExrc2M1IT/bpjKKIpKPUoSbrKTsVHR9meS2hxzk9MbLj9U CpOfZet9Da0oYNIJDTN9bYo30K/4/tFHbzXclQETRyDHbXh155id4Y6vOzHeAyYFcj+GL0NGPYah DHWffGHjnh+f6Zf70D0I/cZqOT6tE23Y4RO75Nx8mLCUkbOz4vCj4eV4/pjDLOH3B+Ycap10aU8C 24p8mAocpHQ6Qoi9cXvXY4/CE7j1OKrxOaBgFy+JnIH9zwrdjsSSU8d418wCm31w+ljhftK3lw+l gyJ+7C7fkTIpQspITBidiiS4/Fn5B9cxfSxtw61oAAAAAElFTkSuQmCC" preserveAspectRatio="none" height="32.455559" width="31.397224" inkscape:export-xdpi="96" inkscape:export-ydpi="96" /></g></svg></span><span class="text-uppercase font-weight-bold">Quarks project</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/community/" ><span>Community</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.11bd40c17b4c4c79196b86aa9886c8e174685f05573d15afd5873aed4554d57b0f55f4bb0e6ee4810b9fd9a5b3d43df20c3838ceedcdf8a438934d09ef031fbe.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.11bd40c17b4c4c79196b86aa9886c8e174685f05573d15afd5873aed4554d57b0f55f4bb0e6ee4810b9fd9a5b3d43df20c3838ceedcdf8a438934d09ef031fbe.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/concepts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>
    <li class="collapse " id="docs-concepts">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-concepts-about-operators" href="/docs/concepts/about_operators/">About operators</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-concepts-operator" href="/docs/concepts/operator/">Operator</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-concepts-quarks" href="/docs/concepts/quarks/">Quarks</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-concepts-naming" href="/docs/concepts/naming/">Naming Conventions</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/controllers/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Controllers</a>
  </li>
  <ul>
    <li class="collapse " id="docs-controllers">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-controllers-bosh-deployment" href="/docs/controllers/bosh_deployment/">Bosh Deployment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-controllers-quarks-restart" href="/docs/controllers/quarks_restart/">Quarks restart</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-controllers-quarks-statefulset" href="/docs/controllers/quarks_statefulset/">Quarks StatefulSet</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-controllers-statefulsetrollout" href="/docs/controllers/statefulsetrollout/">StatefulSet Rollout</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-controllers-readme" href="/docs/controllers/readme/"></a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/contribution-guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribution Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="docs-contribution-guidelines">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/core-tasks/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Core tasks</a>
  </li>
  <ul>
    <li class="collapse show" id="docs-core-tasks">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-core-tasks-install" href="/docs/core-tasks/install/">Install quarks-operator</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-core-tasks-building" href="/docs/core-tasks/building/">Build quarks-operator</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-docs-core-tasks-from-bosh-to-kube" href="/docs/core-tasks/from_bosh_to_kube/">Transforming BOSH concepts to Kubernetes</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-core-tasks-troubleshooting" href="/docs/core-tasks/troubleshooting/">Troubleshooting</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/development/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Development</a>
  </li>
  <ul>
    <li class="collapse " id="docs-development">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-development-development" href="/docs/development/development/">Development Guidelines</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-development-testing" href="/docs/development/testing/">Testing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-development-releasing" href="/docs/development/releasing/">Releasing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-development-labels" href="/docs/development/labels/">Labels</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-development-tooling" href="/docs/development/tooling/">Tooling</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/features/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Features</a>
  </li>
  <ul>
    <li class="collapse " id="docs-features">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-features-variables" href="/docs/features/variables/">BOSH Variables</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-features-desired-manifests" href="/docs/features/desired_manifests/">Desired Manifests</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-features-entanglements" href="/docs/features/entanglements/">Entanglements</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-features-process-control" href="/docs/features/process_control/">Process Control</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-features-rendering-templates" href="/docs/features/rendering_templates/">Rendering BOSH Templates</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-features-waiting-services" href="/docs/features/waiting_services/">Waiting for services</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/commands/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CLI Options</a>
  </li>
  <ul>
    <li class="collapse " id="docs-commands">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator" href="/docs/commands/cf-operator/">cf-operator</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator-util" href="/docs/commands/cf-operator_util/">cf-operator util</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator-util-instance-group" href="/docs/commands/cf-operator_util_instance-group/">cf-operator util instance-group</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator-util-tail-logs" href="/docs/commands/cf-operator_util_tail-logs/">cf-operator util tail-logs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator-util-template-render" href="/docs/commands/cf-operator_util_template-render/">cf-operator util template-render</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator-util-variable-interpolation" href="/docs/commands/cf-operator_util_variable-interpolation/">cf-operator util variable-interpolation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator-util-wait" href="/docs/commands/cf-operator_util_wait/">cf-operator util wait</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docs-commands-cf-operator-version" href="/docs/commands/cf-operator_version/">cf-operator version</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/cloudfoundry-incubator/quarks-docs/edit/master/content/en/docs/Core%20tasks/from_bosh_to_kube.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudfoundry-incubator/quarks-docs/issues/new?title=From%20BOSH%20to%20Kubernetes" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/cloudfoundry-incubator/quarks-operator/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#open-questions">Open Questions</a></li>
<li><a href="#missing-features">Missing Features</a></li>
<li><a href="#high-level-direction">High-level Direction</a></li>
<li><a href="#deployment-lifecycle">Deployment Lifecycle</a></li>
<li><a href="#example-deployment-manifest-conversion-details">Example Deployment Manifest Conversion Details</a></li>
<li><a href="#bpm">BPM</a>
<ul>
<li><a href="#entrypoint-environment-variables">Entrypoint &amp; Environment Variables</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#health-checks">Health checks</a></li>
<li><a href="#hooks">Hooks</a></li>
<li><a href="#misc">Misc</a></li>
</ul></li>
<li><a href="#conversion-details">Conversion Details</a>
<ul>
<li><a href="#calculation-of-docker-image-location-for-releases">Calculation of docker image location for releases</a></li>
<li><a href="#variables-to-quarks-secrets">Variables to Quarks Secrets</a>
<ul>
<li><a href="#overriding-generated-variables">Overriding generated variables</a></li>
</ul></li>
<li><a href="#instance-groups-to-quarks-statefulsets-and-jobs">Instance Groups to Quarks StatefulSets and Jobs</a>
<ul>
<li><a href="#bosh-services-vs-bosh-errands">BOSH Services vs BOSH Errands</a></li>
</ul></li>
</ul></li>
<li><a href="#miscellaneous">Miscellaneous</a>
<ul>
<li><a href="#dealing-with-azs">Dealing with AZs</a></li>
<li><a href="#support-for-active-passive-pod-replicas">Support for active/passive pod replicas</a></li>
<li><a href="#ephemeral-disks">Ephemeral Disks</a></li>
<li><a href="#credentials-for-docker-registries">Credentials for Docker Registries</a></li>
<li><a href="#running-manual-errands">Running manual errands</a></li>
<li><a href="#readiness-and-liveness-probes">Readiness and Liveness Probes</a></li>
<li><a href="#persistent-disks">Persistent Disks</a></li>
<li><a href="#manual-implicit-variables">Manual (&ldquo;implicit&rdquo;) variables</a></li>
<li><a href="#pre-render-scripts">Pre_render_scripts</a></li>
<li><a href="#bosh-dns">BOSH DNS</a></li>
</ul></li>
<li><a href="#flow">Flow</a></li>
<li><a href="#naming-conventions">Naming Conventions</a></li>
</ul></li>
</ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://quarks.suse.dev/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://quarks.suse.dev/docs/core-tasks/">Core tasks</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://quarks.suse.dev/docs/core-tasks/from_bosh_to_kube/">Transforming BOSH concepts to Kubernetes</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>From BOSH to Kubernetes</h1>
    <div class="lead">Guidelines on transforming BOSH concepts to Kubernetes</div>
	       
	

<ul>
<li><a href="#open-questions">Open Questions</a></li>
<li><a href="#missing-features">Missing Features</a></li>
<li><a href="#high-level-direction">High-level Direction</a></li>
<li><a href="#deployment-lifecycle">Deployment Lifecycle</a></li>
<li><a href="#example-deployment-manifest-conversion-details">Example Deployment Manifest Conversion Details</a></li>
<li><a href="#bpm">BPM</a>

<ul>
<li><a href="#entrypoint--environment-variables">Entrypoint &amp; Environment Variables</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#health-checks">Health checks</a></li>
<li><a href="#hooks">Hooks</a></li>
<li><a href="#misc">Misc</a></li>
</ul></li>
<li><a href="#conversion-details">Conversion Details</a>

<ul>
<li><a href="#calculation-of-docker-image-location-for-releases">Calculation of docker image location for releases</a></li>
<li><a href="#variables-to-quarks-secrets">Variables to Quarks Secrets</a></li>
<li><a href="#overriding-generated-variables">Overriding generated variables</a></li>
<li><a href="#instance-groups-to-quarks-statefulsets-and-jobs">Instance Groups to Quarks StatefulSets and Jobs</a></li>
<li><a href="#bosh-services-vs-bosh-errands">BOSH Services vs BOSH Errands</a></li>
</ul></li>
<li><a href="#miscellaneous">Miscellaneous</a>

<ul>
<li><a href="#dealing-with-azs">Dealing with AZs</a></li>
<li><a href="#support-for-activepassive-pod-replicas">Support for active/passive pod replicas</a></li>
<li><a href="#ephemeral-disks">Ephemeral Disks</a></li>
<li><a href="#credentials-for-docker-registries">Credentials for Docker Registries</a></li>
<li><a href="#running-manual-errands">Running manual errands</a></li>
<li><a href="#readiness-and-liveness-probes">Readiness and Liveness Probes</a></li>
<li><a href="#persistent-disks">Persistent Disks</a></li>
<li><a href="#manual-implicit-variables">Manual (&ldquo;implicit&rdquo;) variables</a></li>
<li><a href="#pre_render_scripts">Pre_render_scripts</a></li>
<li><a href="#bosh-dns">BOSH DNS</a></li>
</ul></li>
<li><a href="#flow">Flow</a></li>
<li><a href="#naming-conventions">Naming Conventions</a></li>
</ul>

<h2 id="open-questions">Open Questions</h2>

<ol>
<li>How do we rename things going from one version to the next?</li>
</ol>

<h2 id="missing-features">Missing Features</h2>

<ol>
<li>Canary support in QuarksStatefulSets</li>
<li>Missing support for the <code>allow_executions</code> flag in bpm configs</li>
</ol>

<h2 id="high-level-direction">High-level Direction</h2>

<ul>
<li>releases are defined in the usual way (a <code>releases</code> block), but the information given is used to build a reference for a docker image</li>
<li>each instance group is transformed to an <code>QuarksStatefulSet</code> or an <code>QuarksJob</code></li>
<li>each BOSH Job corresponds to one or more containers in the <code>Pod</code> template defined in the <code>QuarksStatefulSet</code> or the <code>QuarksJob</code>; there&rsquo;s one container for each process defined in the BPM information of each BOSH Job</li>
<li>&ldquo;explicit&rdquo; <code>variables</code> are generated using <code>QuarksSecrets</code></li>
<li>for rendering of BOSH Job Templates, please read <a href="../../features/rendering_templates">this document</a></li>
<li>we have a concept of <a href="../../features/desired_manifests">Desired Manifests</a></li>
<li>all communication happens through Kubernetes <code>Services</code>, which have deterministic DNS Addresses; you can read more about these <a href="../../features/rendering_templates#services-and-dns-addresses">here</a></li>
</ul>

<h2 id="deployment-lifecycle">Deployment Lifecycle</h2>

<p>Please read the <a href="../../controllers/bosh_deployment">documentation for the <code>BOSHDeployment</code> controller</a>.</p>

<h2 id="example-deployment-manifest-conversion-details">Example Deployment Manifest Conversion Details</h2>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># The name of the deployment. Replace the name with the name of the BOSHDeployment resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># It&#39;s used to namespace resources created for this deployment.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Based on docs [1], names should be less than 253 characters. We should limit this to</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># characters in the operator, to make sure that with any suffix, we won&#39;t go beyond the limit.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># A warning is printed in the logs if this is present.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>director_uuid<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;bar&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># A hash of director features. We could use this to control operator features as well.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>features<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Enable variables to be regenerated by the config server (e.g. CredHub) when the variable options change. Default false.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># In the cf-operator, if an QuarksSecret is changed, (e.g. a new domain is added to a cert),</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># the value will be automatically updated.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># The operator won&#39;t be able to control this behavior.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># A warning is printed in the logs if this is present.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>converge_variables<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Randomizes AZs for left over instances that cannot be distributed equally between AZs.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not currently used. It&#39;s likely that we&#39;ll be able to support this.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>randomize_az_placement<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Enables or disables returning of DNS addresses in links.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># In Kubernetes we always use DNS addresses.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># An error should be returned if this value is set to false.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>use_dns_addresses<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># A list of all releases used in this deployment.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Required.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Each release&#39;s image reference is constructed from this information like this:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># &lt;url&gt;/&lt;name&gt;:&lt;stemcell.os&gt;-&lt;stemcell.version&gt;-&lt;version&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>releases<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Name of a release used in the deployment.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;capi-release&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># The version of the release to be used.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># &#34;latest&#34; is not supported by the cf-operator. An error is thrown if &#34;latest&#34; is used.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>version<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;1.0&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Required for the operator. Link to the registry and organization containing the image.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>url<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;docker.io/cloudfoundry&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Integrity of the image itself is handled by whatever</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># container runtime and the image registry.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>sha1<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;332ac15609b220a3fdf5efad0e0aa069d8235788&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Required by the operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>stemcell<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># OS of the stemcell used by the release. Used to construct the image name.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>os<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;opensuse&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Version of the OS of the stemcell used by the release.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>version<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;42.3&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Only used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># A secret is created with the credentials [2], used by the pods</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># that reference this release.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>credentials<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>username<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>password<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;secret&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>stemcells<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Specifies how updates are handled</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># The cf-operator uses some of these settings.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>update<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># The number of pods to deploy in the new version of an QuarksStatefulSet</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Once canaries are running, deployment can continue.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># TODO: Support for canaries needs implementation in QuarksStatefulSet.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>canaries<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Time to wait for canary pods to be ready in a new version of an QuarksStatefulSet</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>canary_watch_time<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">100</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># The maximum number of non-canary instances to update in parallel for an QuarksStatefulSet.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># TODO: Support for this needs to be implemented in the controller.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>max_in_flight<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># TODO: is there a need for this in QuarksStatefulSet (in a readiness Probe?)</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>update_watch_time<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not used in cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># All instance groups are deployed at the same time.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># If set to true, a warning is logged.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>serial<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not used in cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># If set, a warning is logged.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>vm_strategy<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Each instance group is converted into an QuarksStatefulSet</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>instance_groups<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Used to name the QuarksStatefulSet or QuarksJob</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;api-az1&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Support for AZs is implemented in the QuarksStatefulSet</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>azs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;az1&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Number of replicas for the StatefulSets in an QuarksStatefulSet</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># If this instance group defines an QuarksJob, this value must be 1. An error is thrown otherwise</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>instances<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Each job results in a rendered bpm.yml file.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># BPM information is required - the deployment fails if it&#39;s missing.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Each job has one or more processes (defined in bpm.yml), and each   corresponds to a container of a pod in a StatefulSet or Job</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>jobs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># It&#39;s used to name the container</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;cloud_controller_ng&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># The name of a release that must exist in the releases block.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># If it doesn&#39;t exist in the releases block, an error is thrown.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># The docker image used for the container is resolved using this release name.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>release<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;capi-release&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Used by the cf-operator to calculate links before rendering templates.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># All resources in the cf-operator are deterministic (IP addresses are not used),</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># So they can be calculated before template rendering occurs.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>consumes<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Same as the consumes block above.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>provides<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Defines all properties, used to render job templates.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Job templates are rendered as Secrets, and then mounted into pod containers.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># If a property is changed, the operator runs rendering in an QuarksJob, and the</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># template&#39;s secret is (re)generated.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># All properties are input to this QuarksJob that does rendering.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Some properties can reference variables, which can be generated. The cf-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># collects values for all properties before starting the rendering process.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>properties<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>domain<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;mycf.com&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>admin_password<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;((adminpass))&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Extra information specific to the cf-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>quarks<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>run<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Hints for pod replica count</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>scaling<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>min<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>max<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>ha<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Extra capabilities required by the containers of this job</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>capabilities<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Memory used by each container. Overrides info from vm_resources.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>memory<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">128</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Number of vCPUs used by each container. Overrides info from vm_resources.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>virtual-cpus<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Healthcheck information for the containers in this job.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>healthcheck<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>some_process_name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>readiness<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">                </span>exec<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">                  </span>command<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">                  </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;curl --silent --fail --head http://${HOSTNAME}:8080/health&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># List of ports to be opened up for this job.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>ports<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;health-port&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>protocol<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;TCP&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>internal<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">8080</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>vm_type<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>vm_extensions<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Used by the cf-operator to limit the resources used by a container in a pod</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>vm_resources<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Number of vCPUs used by a container</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>cpu<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Memory used by a container</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>ram<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Used for PVC sizes if `ephemeralAsPVC` is set to true</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>ephemeral_disk_size<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">4096</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>stemcell<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Size of the volume attached to a pod container.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>persistent_disk<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">4096</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># This must be the name of a StorageClass used by the cf-operator to create volumes.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>persistent_disk_type<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;default&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this key is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>networks<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>static_ips<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>default<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Specific update settings for this instance group. Use this to override global job update settings on a per-instance-group basis.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>update<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># TODO: understand how instance group renames can occur in an QuarksStatefulSet or QuarksJob</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>migrated_from<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>cloud_controller<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># This is the key that controls how an instance group is treated by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># If lifecycle is &#34;service&#34;, an QuarksStatefulSet is created for the instance group.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Otherwise, if it&#39;s &#34;errand&#34;, an QuarksJob is created. As with normal BOSH, errands have a</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># manual trigger, so QuarksJobs have to support this (manual triggers).</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># In Kubernetes we also need errands that can run on a trigger. These are not supported by BOSH.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># The lifecycle for such an QuarksJob is &#34;auto-errand&#34;.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Manual triggers are supported by QuarksJobs</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>lifecycle<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;service&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Deprecated - the cf-operator does not support this key.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># An error is thrown if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>properties<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Usually used for BOSH Agent configuration.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># We can use this hash to control how the operator generates resources, however</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># none of the settings used by the Agent are supported by the operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>env<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>persistent_disk_fs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;ext4&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>persistent_disk_mount_options<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>bosh<span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[</span>Hash<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline"> </span>optional<span style="color:#000;font-weight:bold">]:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>password<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>keep_root_password<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>vcap<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>remove_dev_tools<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>remove_static_libraries<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span>.<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>swap_size<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">100</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>ipv6<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>enable<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>job_dir<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>tmpfs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>tmpfs_size<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;0m&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>agent<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># Not used by the cf-operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># A warning is logged if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>tmpfs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># Used by the cf-operator to set kubernetes-specific information</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># for the resources representing this instance group.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>settings<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Affinity information for this instance group&#39;s pod.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># These definitions are merged directly into the pod&#39;s definition.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># The structure is the same as the one used by Kube [3].</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>affinity<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Labels to add to the resources representing the instance group</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>labels<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Annotations to add to the resources representing the instance group</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>annotations<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Ops files that are applied on top of instance group properties yaml or BPM data yaml</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>preRenderOps<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>bpm<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>type<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>replace<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>path<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>/foo<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>value<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>bar<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>instanceGroup<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>type<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>replace<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>path<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>/foo<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>value<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>bar<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># disable_log_sidecar is an option to disable log sidecar</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>disable_log_sidecar<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># serviceAccountName is the name of the ServiceAccount to use to run this pod.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>serviceAccountName<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>kubecf<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># automountServiceAccountToken indicates whether a service account token should be automatically mounted</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>automountServiceAccountToken<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># ImagePullSecrets is an optional list of references to secrets to use for pulling any of the images.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># This field in PodSpec can be automated by setting the imagePullSecrets in a serviceAccount.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>imagePullSecrets<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># Tolerations and taints are a concept defined in kubernetes to repel pods from nodes. [4]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>tolerations<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># If this is set to true, the operator will define a PersistentVolumeClaim template</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># on the QuarksStatefulSet of the instance group, and it will use that PVC for all volume</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># mounts for ephemeral disks</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>ephemeralAsPVC<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># This sets the backoffLimit for the jobs running errands. If not set, it will use the Kube default which is 6.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#handling-pod-and-container-failures</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>jobBackoffLimit<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">6</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#8f5902;font-style:italic"># An array of disks to be mounted on the containers</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>disks<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#8f5902;font-style:italic"># A PersistentVolumeClaim to be used as a template in the StatefulSet of the instance group.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>pvc<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>foo<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>storageClassName<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>persistent<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#8f5902;font-style:italic"># Volume definition to be included in the pod.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>volume<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>extravolume<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>emptyDir<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#8f5902;font-style:italic"># Volume mounts to be set on the containers that match the job and process set in &#34;filters&#34;.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>volumeMount<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>extravolume<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>mountPath<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>/var/vcap/data/rep<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#8f5902;font-style:italic"># Filters to identify on which containers to apply the volume mounts.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>filters<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>job_name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;cflinuxfs3-rootfs-setup&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>process_name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;test-server&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Each addon job is added to the desired manifest before it&#39;s persisted</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Not all placement rules are supported, see below for more details.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>addons<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># The name of the addon is not used by the operator.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># TODO: investigate whether it&#39;s useful to  set this in an annotation of the instance group sts/pod</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>foo<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># All jobs are added to instance groups based on placement rules before the desired manifest is persisted</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>jobs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>metron<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>release<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>loggregator-release<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>properties<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>loggregator<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>metron<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>log_level<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>debug<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>include<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Supported</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>stemcell<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>os<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>opensuse<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Not supported, addons are used per-deployment</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>deployments<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Supported</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>jobs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>cloud_controller_ng<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>release<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>capi-release<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Supported</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>instance_groups<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>api<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>diego-cell<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Not supported</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>networks<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Not supported</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>teams<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># The same matchers are supported as the &#34;include&#34; key</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>exclude<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Deprecated - the cf-operator does not support this key.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># An error is thrown if this is set.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>properties<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># For each variable, the cf-operator creates QuarksSecrets</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># As with normal BOSH, variables are referenced by job properties.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Each variable&#39;s generated secret is mounted in the container that renders each job&#39;s</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># templates. They are then used by the rendering process.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># This means that the operator needs to look at the job&#39;s properties, and parse any references</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># to variables, so it knows what it needs to mount.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>variables<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Unique name used to identify a variable. Used to name the QuarksSecret</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;adminPass&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># As with normal BOSH, supported types are certificate, password, rsa, and ssh.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>type<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#8f5902;font-style:italic"># Specifies generation options</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>options<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{is_ca<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline"> </span>common_name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;some-ca&#34;</span>}<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># Tags are transformed into annotations for the resources created</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic"># by this deployment.</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>tags<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>maintainer<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;Philip J. Fry&#34;</span></code></pre></div>
<ul>
<li>[1] <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names" target="_blank">https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></li>
<li>[2] <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/" target="_blank">https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/</a></li>
<li>[3] <a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity" target="_blank">https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity</a></li>
<li>[4] <a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/" target="_blank">https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/</a></li>
</ul>

<h2 id="bpm">BPM</h2>

<p>In a BOSH release some jobs have BPM configuration in <code>templates/bpm.yml.erb</code>. Each process specified in the BPM configuration is run in a single Kubernetes <code>Container</code> as part of a <code>Pod</code>.</p>

<p>The following subsections describe the mapping of BPM configuration into containers.</p>

<h3 id="entrypoint-environment-variables">Entrypoint &amp; Environment Variables</h3>

<table>
<thead>
<tr>
<th>Bosh</th>
<th>Kube Pod Container</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>executable</code></td>
<td><code>command</code></td>
</tr>

<tr>
<td><code>args</code></td>
<td><code>args</code></td>
</tr>

<tr>
<td><code>env</code></td>
<td><code>env</code></td>
</tr>
</tbody>
</table>

<h3 id="resources">Resources</h3>

<table>
<thead>
<tr>
<th>Bosh</th>
<th>Kube Pod Container</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>workdir</code></td>
<td><code>workingDir</code>. Not implemented yet.</td>
</tr>

<tr>
<td><code>hooks</code></td>
<td><code>initContainers</code>. and container hooks. Not implemented yet.</td>
</tr>

<tr>
<td><code>process.capabilities</code></td>
<td><code>container.SecurityContext.Capabilities</code>.</td>
</tr>

<tr>
<td><code>limits</code></td>
<td><code>container.Resources.Limits</code>. Not implemented yet.</td>
</tr>

<tr>
<td><code>ephemeral_disk</code></td>
<td><code>emptyDir</code> volumes by default, but can be <code>PersistentVolumeClaims</code> if <code>ephemeralAsPVC</code> is set on the <code>bosh.agent.settings</code>.</td>
</tr>

<tr>
<td><code>persistent_disk</code></td>
<td><code>PersistentVolumeClaims</code>. Not yet implemented.</td>
</tr>

<tr>
<td><code>additional_volumes</code></td>
<td><code>emptyDir</code>. Paths under /var/vcap/store are currently ignored.</td>
</tr>

<tr>
<td><code>unsafe.unrestricted_volumes</code></td>
<td><code>emptyDir</code>. Paths under /var/vcap/store are currently ignored.</td>
</tr>

<tr>
<td><code>unsafe.privileged</code></td>
<td><code>container.SecurityContext.Privileged</code>.</td>
</tr>
</tbody>
</table>

<h3 id="health-checks">Health checks</h3>

<p>BPM doesn&rsquo;t provide information for health checks and relies on monit instead.
CF-Operator provides health checks via the <a href="https://github.com/cloudfoundry-incubator/cf-operator/blob/master/pkg/bosh/manifest/containerization.go#L11" target="_blank">quarks</a> property key in the deployment manifest.</p>

<p>In Kubernetes, we use <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/" target="_blank">liveness and readiness probes</a> for healthchecks.</p>

<h3 id="hooks">Hooks</h3>

<p>BPM supports <code>pre_start</code> hooks. CF-Operator will convert those to additional init containers.</p>

<h3 id="misc">Misc</h3>

<p>In addition, there are configuration variables that are not available in Bosh but are required for scaling in a kubernetes environment.</p>

<table>
<thead>
<tr>
<th>Job spec in Manifest</th>
<th>Kube Pod Container</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>properties.quarks.bpm.processes[n].requests.cpu</code></td>
<td><code>container.Resources.Requests.cpu</code></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container" target="_blank">Guaranteed CPU</a></td>
</tr>

<tr>
<td><code>properties.quarks.bpm.processes[n].requests.memory</code></td>
<td><code>container.Resources.Requests.memory</code></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container" target="_blank">Guaranteed memory</a></td>
</tr>
</tbody>
</table>

<h2 id="conversion-details">Conversion Details</h2>

<h3 id="calculation-of-docker-image-location-for-releases">Calculation of docker image location for releases</h3>

<p>Release image tags are immutable.
The release image locations are comprised of multiple elements:</p>

<ul>
<li>docker registry URL</li>
<li>organization and repository</li>
<li>stemcell name and version</li>
<li>fissile version</li>
<li>the release name and version</li>
</ul>

<p>Release image locations always have to be resolved in the context of an instance group/job because they depend on the stemcell that is being used.</p>

<p>A typical release image location looks could look like <code>hub.docker.com/cfcontainerization/cflinuxfs3-release:opensuse-15.0-28.g837c5b3-30.263-7.0.0_233.gde0accd0-0.62.0</code>.</p>

<p>The different elements are taken from different places in the manifest. Given this excerpt from a BOSH deployment manifest:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">stemcells<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>alias<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>default<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>os<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>opensuse<span style="color:#0000cf;font-weight:bold">-42.3</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>version<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">28.</span>g837c5b3<span style="color:#0000cf;font-weight:bold">-30.263-7.0</span>.0_234.gcd7d1132<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>instance_groups<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>diego-cell<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>stemcell<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>default<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>jobs<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>cflinuxfs3-rootfs-setup<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>release<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>cflinuxfs3<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>releases<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>cflinuxfs3<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>version<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">0.62.0</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>url<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>hub.docker.com/cfcontainerization<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>sha1<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>6466c44827c3493645ca34b084e7c21de23272b4<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>stemcell<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>os<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>opensuse<span style="color:#0000cf;font-weight:bold">-15.0</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>version<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">28.</span>g837c5b3<span style="color:#0000cf;font-weight:bold">-30.263-7.0</span>.0_233.gde0accd0</code></pre></div>
<p>The stemcell information (name, and stemcell and fissile version) are taken from the <code>stemcells</code> entry that matches the instance group&rsquo;s stemcell alias. The registry URL including the organization, the release name, and the version come from the <code>releases</code> entry that&rsquo;s referenced from the job.</p>

<blockquote>
<p><strong>Note:</strong></p>

<p>Releases can optionally specify a separate <code>stemcell</code> section, in which case the information from the instance group stemcell is overridden.</p>
</blockquote>

<h3 id="variables-to-quarks-secrets">Variables to Quarks Secrets</h3>

<p>For each <strong>Explicit BOSH Variable</strong> (with a definition in the <code>variables</code> section in the deployment manifest), the cf-operator creates an <code>QuarksSecret</code>.
The <code>QuarksSecret</code> is meant to generate the value required by the variable.</p>

<p>The name of the <code>QuarksSecret</code> is calculated like this:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">var-&lt;VARIABLE_NAME&gt;</code></pre></div>
<p>The name of the final generated <code>Secret</code> (the <code>secretName</code> key of the <code>QuarksSecret</code>) is calculated the same way.</p>

<h4 id="overriding-generated-variables">Overriding generated variables</h4>

<p>The user can also specify overrides for generated secrets using the <code>vars</code> key in the <code>BOSHDeployment</code> spec.</p>

<p>These map explicit variable names to secret names.</p>

<p>Each secret must contain the usual keys used in explicit variables (see <a href="https://bosh.io/docs/variable-types/" target="_blank">here</a> for more details).</p>

<p>You can find an example <a href="https://github.com/cloudfoundry-incubator/quarks-operator/blob/master/docs/examples/bosh-deployment/boshdeployment-with-user-variable.yaml" target="_blank">here</a>.</p>

<h3 id="instance-groups-to-quarks-statefulsets-and-jobs">Instance Groups to Quarks StatefulSets and Jobs</h3>

<h4 id="bosh-services-vs-bosh-errands">BOSH Services vs BOSH Errands</h4>

<p>BOSH Services are converted to <code>QuarksStatefulSets</code> and <code>Services</code>.</p>

<p>BOSH Errands are converted to <code>QuarksJobs</code> with <code>trigger.strategy: manually</code>.</p>

<p>BOSH Auto-Errands (supported only by the operator) are converted to <code>QuarksJobs</code> with <code>trigger.strategy: once</code>.</p>

<h2 id="miscellaneous">Miscellaneous</h2>

<h3 id="dealing-with-azs">Dealing with AZs</h3>

<p><code>QuarksStatefulSets</code> support AZs. You can learn more about this in <a href="../../controllers/quarks_statefulset#az-support">the docs</a>.</p>

<h3 id="support-for-active-passive-pod-replicas">Support for active/passive pod replicas</h3>

<p><code>QuarksStatefulSets</code> support active/passive pod replicas. You can learn more about this in <a href="../../controllers/quarks_statefulset#quarksstatefulset-active-passive-controller">the docs</a>.</p>

<h3 id="ephemeral-disks">Ephemeral Disks</h3>

<p>We use an <code>emptyDir</code> for ephemeral disks. You can learn more from <a href="https://kubernetes.io/docs/concepts/storage/volumes/#emptydir" target="_blank">the official docs</a>.</p>

<p>If the setting <code>bosh.settings.agent.ephemeralAsPVC</code> is set to <code>true</code>, the operator will use <code>PersistentVolumeClaims</code> instead.
This option should be used for jobs that make assumptions about ephemeral disks (like this <a href="https://github.com/cloudfoundry/garden-runc-release/tree/develop/jobs/garden" target="_blank">garden</a> job) mounts, or the size limit for the disk is critical.
If <code>vm_resources.ephemeral_disk_size</code> is set, the PVC size will be set to this. If it&rsquo;s not set, the operator will try to use <code>persistent_disk</code> as a size. If this is not set either, the operator will use a default of <code>10GB</code>.</p>

<h3 id="credentials-for-docker-registries">Credentials for Docker Registries</h3>

<p>Providing credentials for private registries is supported by Kubernetes. Please read <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/#registry-secret-existing-credentials" target="_blank">the official docs</a>.</p>

<h3 id="running-manual-errands">Running manual errands</h3>

<p>BOSH makes use of errands, which are manually triggered.
We support manual triggers - you can learn more in the <a href="https://github.com/cloudfoundry-incubator/quarks-job/blob/master/docs/quarksjob.md#errands" target="_blank">QuarksJob docs</a>.</p>

<h3 id="readiness-and-liveness-probes">Readiness and Liveness Probes</h3>

<p>When the deployment manifest declares health check information for jobs, via the <code>quarks</code> section, we configure those in Kubernetes.</p>

<p>The probes are defined per BPM process.</p>

<p><strong>Example:</strong></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">instance_groups<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;api-az1&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>process.<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>properties<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>quarks<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">        </span>run<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">          </span>healthcheck<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">            </span>bpm-process-name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>readiness<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">              </span>liveness<span style="color:#000;font-weight:bold">:</span></code></pre></div>
<p>Both keys contain information that should is used as-is for the container that matches the process name.</p>

<h3 id="persistent-disks">Persistent Disks</h3>

<p>When a BOSH deployment manifest declares persistent disks on instance groups, we provide a persistent volume to the containers of a pod in <code>/var/vcap/store</code>. You can learn more about BOSH Persistent Disks in the <a href="https://bosh.io/docs/persistent-disks/" target="_blank">BOSH Official Docs</a>.</p>

<p>These volumes are mounted on each container that&rsquo;s part of the instance group.</p>

<p>The implementation uses the default storage class if not specified using the <code>persistent_disk_type</code> key in the manifest.</p>

<h3 id="manual-implicit-variables">Manual (&ldquo;implicit&rdquo;) variables</h3>

<p>BOSH deployment manifests support two different types of variables, implicit and explicit ones.</p>

<p>&ldquo;Explicit&rdquo; variables are declared in the <code>variables</code> section of the manifest and are generated automatically before the interpolation step.</p>

<p>&ldquo;Implicit&rdquo; variables just appear in the document within double parentheses without any declaration. These variables have to be provided by the user prior to creating the BOSH deployment as a secret. The secret name has to follow the scheme</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">var-&lt;variable-name&gt;</code></pre></div>
<p>By default the variable content is expected in the <code>value</code> key, e.g.</p>

<pre><code>((system-domain))
</code></pre>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>apiVersion<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>v1<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>kind<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>Secret<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>metadata<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>var-system-domain<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>type<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>Opaque<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>stringData<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>value<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>example.com</code></pre></div>
<p>It is also possible to specify the key name after a <code>/</code> separator, e.g.</p>

<pre><code>((ssl/ca))
</code></pre>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>apiVersion<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>v1<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>kind<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>Secret<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>metadata<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>name<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>var-ssl<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>type<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>Opaque<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span>stringData<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>ca<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>...<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>cert<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>...<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>key<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>...</code></pre></div>
<h3 id="pre-render-scripts">Pre_render_scripts</h3>

<p>Similar to what can be achieved in SCF v1, with the <a href="https://github.com/SUSE/scf/tree/develop/container-host-files/etc/scf/config/scripts/patches" target="_blank">patches</a> scripts, the <code>cf-operator</code> is able to support this behaviour. Basically, it allows the user to execute a custom script during runtime of the job container for a specific <code>instance_group</code>. Because patching during runtime is always a great feature to have, for a variety of reasons, users can specify this via the <code>quarks.pre_render_scripts</code> key.</p>

<p>Keep it mind, that the script should belong to a type, to avoid running all scripts as a whole. Currently supported types are:</p>

<ul>
<li><code>quarks.pre_render_scripts.bpm</code>.</li>
<li><code>quarks.pre_render_scripts.ig_resolver</code></li>
<li><code>quarks.pre_render_scripts.jobs</code></li>
</ul>

<p>This allows you to run anything, by specifying a list of commands/scripts to execute. For example:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">instance_groups:
- name: redis-slave
  instances: <span style="color:#0000cf;font-weight:bold">2</span>
  lifecycle: errand
  azs: <span style="color:#ce5c00;font-weight:bold">[</span>z1, z2<span style="color:#ce5c00;font-weight:bold">]</span>
  jobs:
  - name: redis-server
    release: redis
    properties:
      quarks:
        pre_render_scripts:
          bpm:
          - <span style="color:#000;font-weight:bold">|</span>
            touch /tmp</code></pre></div>
<h3 id="bosh-dns">BOSH DNS</h3>

<p>The BOSH DNS addon is implemented using a separate DNS server (coredns). For each BOSHDeployment, which enables this addon, an additional DNS server is created within the namespace.
This DNS server rewrites all BOSH dns requests to standard k8s queries (e.g. <code>api.service.cf.internal</code> -&gt; <code>api.&lt;namespace&gt;.svc.cluster.local</code>) and forwards them to the k8s DNS server.
All pods created from the BOSHDeployment are configured to use this DNS server.</p>

<p>Additionally the headless services are created on base of the specified aliases. The following alias</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f8f8f8;text-decoration:underline">  </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>domain<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>blobstore.service.cf.internal<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>targets<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span>-<span style="color:#f8f8f8;text-decoration:underline"> </span>deployment<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>cf<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>domain<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>bosh<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>instance_group<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>singleton-blobstore<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>network<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>default<span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span>query<span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;*&#39;</span></code></pre></div>
<p>will create a headless service with the name <code>blobstore</code> instead of <code>singleton-blobstore</code>.</p>

<p>For migration purpose, the DNS service does also a rewrite of all previous headless service names
(e.g. <code>singleton-blobstore</code> is rewritten to <code>blobstore.&lt;namespace&gt;.svc.cluster.local</code>).</p>

<h2 id="flow">Flow</h2>

<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vSsapirEQTlBvFDYjRbCxK5IJaxRqPDfTi37OcBVr60BGbDThn83HeHJyRModicUeghc7enfyYY_CHI/pub?w=1279&amp;h=997" alt="flow" /></p>

<h2 id="naming-conventions">Naming Conventions</h2>

<p>After creating a <code>BOSHDeployment</code> named <code>nats-deployment</code>, with one Instance Group, the following resources should exist:</p>

<ul>
<li><p><code>BOSHDeployment</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats-deployment</code></pre></div></li>

<li><p><code>QuarksJob</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">ig
dm</code></pre></div></li>

<li><p><code>QuarksSecret</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">var-nats-password</code></pre></div></li>

<li><p><code>QuarksStatefulSet</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats</code></pre></div></li>

<li><p><code>Secrets</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">bpm.nats-v1
ig-resolved.nats-v1
var-nats-password
with-ops
desired-manifest-v1</code></pre></div></li>

<li><p><code>StatefulSets</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats</code></pre></div></li>

<li><p><code>Pods</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats-0
nats-1</code></pre></div></li>

<li><p><code>Services</code></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">nats
nats-0
nats-1</code></pre></div></li>
</ul>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified August 5, 2020: <a  href="https://github.com/cloudfoundry-incubator/quarks-docs/commit/16871df3e91dfafb0dffe9a7665dc54fd124af65">Update installation instructions (16871df)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/cloudfoundry-incubator/quarks-operator/">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://cloudfoundry.slack.com/archives/C1BQKKNP4">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 CloudFoundry.org Foundation, Inc. All Rights Reserved. All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/js/main.min.664f21bf5eb0c31ebc661e2616e6c63e0448cec6d5636d869957be423c3cb952.js" integrity="sha256-Zk8hv16wwx68Zh4mFubGPgRIzsbVY22GmVe&#43;Qjw8uVI=" crossorigin="anonymous"></script>



  </body>
</html>